format Ctrl + Alt + L

lon77.5602171 lat12.9825313
download android studio -> instal -> run

start new Android Studio project

app name : Demo App
company domain: a.example.com
project location: D:\J\android\android-start\DemoApp
next
phone and tablet -> minimum sdk -> Api 15: Android 4.0.3
next -> next -> empty activity -> next -> 
activity name MainActivity + layout name activity_main -> finish

minifests folder
android manifest xml contains basic info about app icon , label, app name, theme, etc

resources folder
hold icons, images, music etc what we for app need

java folder 
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;

//appCompatActivity makes sure that app compatable with as many old android versions as needed
public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }
}

resources -> layout -> activity_mail.xml - double click -> view on app
green olay button at top center to run app
create new emulator -> phone -> nexus s -> next -> system image - nougat Android 7.1.1 -> next

drag TextView element from Pallete-> Widgets to devices screen, put where needed, change text and
id in properties window, open all propertiesm change margin to 20dp(not px, dp prefered because âo 
not rely on screen resolution)(sp - scale independed pixel, same as dp, but affected by user zoom level)
use lighting near play to insta run changed build

add button
find onClick in properties -> type clickFunction

create clickFunction in MainActivity class

public void clickFunction(View view){
        System.out.println("Clicked");
        Log.i("Info", "Button pressed");
    }

run app with lightning, click button
see System.out and Log info in Android Monitor

add PlainText(text field)
empty name
change hint to "Enter your name"

change clickFunction to handle text field
create object EditText and assign value from field which we acces by method
findViewById(R.id.myTextField) - R - for resources, id - for elemement id

 public void clickFunction(View view){
        EditText stringEnterName = (EditText) findViewById(R.id.myTextField);
        EditText stringEnterPassword = (EditText) findViewById(R.id.myPasswordField);
        System.out.println("Clicked");
        Log.i("Info", "Button pressed");
        Log.i("Name", stringEnterName.getText().toString());
        Log.i("Password",stringEnterPassword.getText().toString());
    }

add Toast - quick pop-up window
	Toast.makeText(MainActivity.this, "Login: "+stringEnterName.getText().toString(),
        Toast.LENGTH_SHORT).show();
and in method
public void clickFunction(View view){
        EditText stringEnterName = (EditText) findViewById(R.id.myTextField);
        EditText stringEnterPassword = (EditText) findViewById(R.id.myPasswordField);

        Toast.makeText(MainActivity.this, "Login: "+stringEnterName.getText().toString(),
                Toast.LENGTH_SHORT).show();

        Toast.makeText(MainActivity.this, "Password: "+stringEnterPassword.getText().toString(),
                Toast.LENGTH_SHORT).show();

        Toast.makeText(MainActivity.this, "Hi there, Queen of Meereen, Queen of the Andals" +
                "(, the Rhoynar) and the First Men, Lady Regnant of the Seven Kingdoms, Khaleesi"+
                "of the Great Grass Sea, Mhysa, Breaker of Chains, the Unburnt, Mother of Dragons",
                Toast.LENGTH_LONG).show();        

        System.out.println("Clicked");
        Log.i("Info", "Button pressed");
        Log.i("Name", stringEnterName.getText().toString());
        Log.i("Password",stringEnterPassword.getText().toString());
    }
==================================================================

============JAVADOC UNDER CURSOR==================================

	Android Studio does not displayed Javadoc by default when an element is being hovered, 	
which is a burden for productivity. However, this can be easily set up:
Go to Preferences and then Editor. When the window appears, mark the last option
==================================================================


============DOWNLOAD FROM WEB=====================================

add to AndroidManifest.xml
<uses-permission android:name="android.permission.INTERNET"/>

to be like
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.a.appdownloadfromweb">

    <uses-permission android:name="android.permission.INTERNET"/>

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

than to handle downloading on side thread, not on main which handles our app ui
create class DownloadTask which extends AsyncTask class with generic params <String,Void,String>
where first - String - data which class constructor will take
      second - Void - name of the method which can show progress of this task
      third - String - variable which will return results of work of DownloadTask class

when we extends AsyncTask class it implements overrided method doInBackground
which takes String and returns String as we desided here -> AsynkTask<String,Void,String>
so it look like
protected String doInBackground(String... params) {}

when we create object of class DownloadTask
and call execute method -> doInBackground() method will be called
and call of get() method after execute method - will make this construction to return result value
so
DownloadTask task = new DownloadTask();
String result = task.execute("some string").get();
so on execute().get() - method doInBackground will be called and return result of his work

next example of apps MainActivite class where DownloadTask class processes string with url adress
and returns data(html code of page found on urls location)

import android.os.AsyncTask;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;

//add in AndroidManifest.xml to provide internet use permission
// <uses-permission android:name="android.permission.INTERNET"/>

import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.concurrent.ExecutionException;

public class MainActivity extends AppCompatActivity {

    //AsyncTask allows to run another task behind(in new background thread) MainActivity thread
    // which displays app to user
    // in AsyncTask<?,?,?>
    //first (String) - variable which we send to DownloadTask class to instruct it what to do
    //second - name of method which shows the progress of this task
    //third - variable which can be returned by DownloadTask class
    public class DownloadTask extends AsyncTask <String, Void, String>{

        //call execute method from DownloadTask class - will execute this method
        @Override
        protected String doInBackground(String... params) {

            String result ="";
            URL url;
            HttpURLConnection httpConnection = null;

            for(String param : params){
                Log.i("Test",param);
            }

            try{

                //create URL from string
                url=new URL(params[0]);

                //open HttpURLConnection with URL and openConnection() method
                httpConnection = (HttpURLConnection)url.openConnection();

                //open inputStream from HttpURLConnection with getInputStream() method
                 InputStream in = httpConnection.getInputStream();
                //read stream with InputStreamReader
                InputStreamReader reader = new InputStreamReader(in);

                int data = reader.read();

                //at the end of content data from stream - will be -1
                while(data!=-1){
                    char current = (char)data;
                    result+=current;

                    data= reader.read();
                }

                return result;
            }catch(Exception e){
                e.printStackTrace();

                return "Failed";
            }
            //call get() after execute() method - wil provide returned data
            //return result;
        }
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        DownloadTask dTask = new DownloadTask();
        String result="";
        try {
            //result = dTask.execute("https://www.ecowebhosting.co.uk/").get();
            result = new DownloadTask().execute("https://www.ecowebhosting.co.uk/").get();
        } catch (InterruptedException e) {
            e.printStackTrace();
        } catch (ExecutionException e) {
            e.printStackTrace();
        }
        Log.i("Result",result);
    }
}
==================================================================


============DOWNLOAD IMAGE FROM WEB===============================

add to AndroidManifest.xml
<uses-permission android:name="android.permission.INTERNET"/>

create nested class DownloadTask extends AsyncTask <String, Void, Bitmap>
to process url and return image found on the url's location

next example of apps MainActivite class

package com.example.a.appdownloadimagefromweb;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.AsyncTask;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.ImageView;

import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.concurrent.ExecutionException;

public class MainActivity extends AppCompatActivity {

    ImageView downloadedImage;

    public void functionButtonDownloadImage(View view){

        //http://orig12.deviantart.net/6492/f/2016/059/3/4/seasonal_feathers_by_nanfe-d9tggn2.jpg
        Log.i("Test","Button 1 - clicked");

        ImageDownloader task = new ImageDownloader();
        Bitmap myImage;
        try {
            myImage = task.execute("http://orig12.deviantart.net/6492/f/2016/059/3/4/seasonal_feathers_by_nanfe-d9tggn2.jpg").get();

            downloadedImage.setImageBitmap(myImage);
        } catch (InterruptedException e) {
            e.printStackTrace();
        } catch (ExecutionException e) {
            e.printStackTrace();
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        downloadedImage = (ImageView)findViewById(R.id.image1);
    }

    public class ImageDownloader extends AsyncTask<String,Void, Bitmap> {
        @Override
        protected Bitmap doInBackground(String... params) {

            try {
                URL url = new URL(params[0]);

                HttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();

                //get image in one go and convert to bitmap
                urlConnection.connect();

                InputStream in = urlConnection.getInputStream();

                Bitmap myBitmap = BitmapFactory.decodeStream(in);

                return myBitmap;
            } catch (MalformedURLException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }
            return null;
        }
    }
}

===============TOAST FROM NON-UI THREAD=========

//to call Toast from non-UI thread
    public void errorToast(final String errorString) {
        Handler handler = new Handler(Looper.getMainLooper());

        handler.postDelayed(new Runnable() {

            @Override
            public void run() {
                Toast.makeText(getApplicationContext(), errorString, Toast.LENGTH_SHORT).show();
            }
        }, 1000);
    }


==============WEATHER APP==================

import android.content.Context;
import android.os.AsyncTask;
import android.os.Handler;
import android.os.Looper;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLEncoder;

public class MainActivity extends AppCompatActivity {
    //unsplash.com - free images for background
    EditText editCity;
    TextView textWeather;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        editCity = (EditText) findViewById(R.id.editTextCity);
        textWeather = (TextView) findViewById(R.id.textViewWeather);
    }

    private class DownloadWeatherTask extends AsyncTask<String, Void, String> {

        @Override
        protected String doInBackground(String... params) {
            StringBuilder result = new StringBuilder();

            try {
                URL url = new URL(params[0]);
                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();
                InputStream in = httpURLConnection.getInputStream();
                InputStreamReader reader = new InputStreamReader(in);
                int data = reader.read();

                while (data > -1) {
                    char current = (char) data;
                    result.append(current);
                    data = reader.read();
                }
                return result.toString();
            } catch (MalformedURLException e) {
                e.printStackTrace();
                Log.i("Connect", "MalformedURLException");
                //special method to draw toast because of exception if toast runs not on UI thread
                errorToast("Cant get weather: wrong city name");
            } catch (IOException e) {
                e.printStackTrace();
                Log.i("Connect", "IOException");
                errorToast("Cant get weather: wrong city name");
            }
            return null;
        }

        //executed on doInBackground() finish
        //string result = returned from doInBackground string result
        @Override
        protected void onPostExecute(String result) {
            super.onPostExecute(result);

            if (result != null) {
                Log.i("resultString", result);
                String weatherForTextField = "";
                try {
                    JSONObject jsonObject = new JSONObject(result);
                    String resultWeather = jsonObject.getString("weather");

                    JSONArray jsonArray = new JSONArray(resultWeather);
                    JSONObject tempJSON;
                    for (int i = 0; i < jsonArray.length(); i++) {
                        tempJSON = jsonArray.getJSONObject(i);
                        weatherForTextField += "Main: " + tempJSON.getString("main")
                                + "\nDescription: " + tempJSON.getString("description");
                    }

                    tempJSON = jsonObject.getJSONObject("main");
                    weatherForTextField += "\nTemp: " + kelvinToCelsius(tempJSON.getString("temp"))
                            + "\nPressure: " + tempJSON.getString("pressure")
                            + "\nHumidity: " + tempJSON.getString("humidity")
                            + "\nTemp_min: " + kelvinToCelsius(tempJSON.getString("temp_min"))
                            + "\nTemp_max: " + kelvinToCelsius(tempJSON.getString("temp_max"));

                    tempJSON= jsonObject.getJSONObject("coord");
                    weatherForTextField+="\nLon: " + tempJSON.getString("lon")
                            +"\nLat: "+tempJSON.getString("lat");


                    weatherForTextField+="\n"+jsonObject.getString("name");

                    textWeather.setText(weatherForTextField);
                } catch (JSONException e) {
                    textWeather.setText(noneInfo());
                    e.printStackTrace();
                }
            }else{
                textWeather.setText(noneInfo());
            }
        }
    }

    //to call Toast from non-UI thread
    public void errorToast(final String errorString) {
        Handler handler = new Handler(Looper.getMainLooper());

        handler.postDelayed(new Runnable() {

            @Override
            public void run() {
                Toast.makeText(getApplicationContext(), errorString, Toast.LENGTH_SHORT).show();
            }
        }, 1000);
    }

    public void functionGetWeather(View view) {
        String city = editCity.getText().toString();
        Log.i("city: ", city);
        //to encode string city name to proper url(to handle spaces in name etc)
        try {
            city= URLEncoder.encode(city,"UTF-8");
            Log.i("city encoded: ", city);
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
        //to get rid out from screen keyboard (which can block way if proposes variants)
        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
        imm.hideSoftInputFromWindow(editCity.getWindowToken(), 0);

        new DownloadWeatherTask().execute("http://api.openweathermap.org/data/2.5/weather?q=" + city + "&appid=aabddda8fca6982bdf6299a97f0f0100");
    }

    public String kelvinToCelsius(String temperature) {
        float temp = Float.parseFloat(temperature);
        temp = temp - 273.15F;
        return new String("" + Math.round(temp));
    }

    public String noneInfo(){
        return "Main: " + "none"
                + "\nDescription: " + "none"
                + "\nTemp: " + "none"
                + "\nPressure: " + "none"
                + "\nHumidity: " + "none"
                + "\nTemp_min: " + "none"
                + "\nTemp_max: " + "none";
    }
}


===============MAPS, SELF LOCATION=============

permission in AndroidManifest.xml for location

<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
(FINE_LOCATION - mean coords from GPS, we can define another LOCATION, not FINE, for  source like Wi-Fi if needed)

code for location get - first LocationManager - 
which take location from  getSystemServiceContext.LOCATION_SERVICE)
locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);

than - LocationListener which will check users location and give signal on change
locationListener = new LocationListener() {
            @Override
            public void onLocationChanged(Location location) {
                Log.i("addressData: ", location.toString());
                textView.setText(locationData(location));
            }

            @Override
            public void onStatusChanged(String provider, int status, Bundle extras) {

            }

            @Override
            public void onProviderEnabled(String provider) {

            }

            @Override
            public void onProviderDisabled(String provider) {

            }
        };

than - check do we have explicit permission for location from user and ask it if haven't

 //if SDK < 23(Marshmallow) - we don't need permission and can ask location immediately
if (Build.VERSION.SDK_INT < 23) {
            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 	locationListener);
        }//if SDK > 23
        else {
            //check do we have permission
            //if haven't - ask
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) 		!= PackageManager.PERMISSION_GRANTED) {
                //ask permission
                ActivityCompat.requestPermissions(this, new String[]		{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            }//if have - run code to ask location
            else {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
                Location lastKnownLocation = locationManager.getLastKnownLocation		(LocationManager.GPS_PROVIDER);
                if(lastKnownLocation!=null) {
                    textView.setText(locationData(lastKnownLocation));
                }
            }
        }

than create method which will react on users responce on permission ask
@Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);

        //if we have responce and responce tell that we have permission
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {

            //here we need one more check if we do have permission
            if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)== 		PackageManager.PERMISSION_GRANTED){
            //if we do have permission - call requestLocationUpdates() method for locationManager
                //which will add listener to it, and give details for listener
                // LocationManager.GPS_PROVIDER - as location data provider(GPS because we choose 		ACCESS_FINE_LOCATION
                // 0 - for min time between ask on location changes - we can put some value to save 		battery, like to ask only every 10 seconds or more
                // 0 - for min distance of location change to give signal to method
                // locationListener
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
            }
        }
    }


full code of MainActivity
import android.Manifest;
import android.content.Context;
import android.content.pm.PackageManager;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Build;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;

public class MainActivity extends AppCompatActivity {

    LocationManager locationManager;
    LocationListener locationListener;

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull 	int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);

        Log.i("request", "1");
        //if we have response and response tell that we have permission
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            Log.i("request", "2");
            //here we need one more check if we do have permission
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {
                Log.i("request", "3");
                //if we do have permission - call requestLocationUpdates() method for 		locationManager
                //which will add listener to it, and give details for listener
                // LocationManager.GPS_PROVIDER - as location data provider(GPS because we choose 		ACCESS_FINE_LOCATION
                // 0 - for min time between ask on location changes - we can put some value to save 		battery, like to ask only every 10 seconds or more
                // 0 - for min distance of location change to give signal to method
                // locationListener

                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
            }
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //get users location
        locationManager = (LocationManager) this.getSystemService(Context.LOCATION_SERVICE);
        Log.i("Location", locationManager.toString());
        locationListener = new LocationListener() {
            @Override
            public void onLocationChanged(Location location) {

                Log.i("Location1", location.toString());
            }

            @Override
            public void onStatusChanged(String provider, int status, Bundle extras) {

            }

            @Override
            public void onProviderEnabled(String provider) {

            }

            @Override
            public void onProviderDisabled(String provider) {

            }
        };

        //if device running SDK <23(Marshmallow)
        if (Build.VERSION.SDK_INT < 23) {
            Log.i("request", "6");
            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
        } else {
            //we need to ask user permission for location explicitly
            //first check if we already have permission, call object ContextCompat -
            // Helper for accessing features in {@link android.content.Context}
            // introduced after API level 4 in a backwards compatible fashion.
            //invoke method checkSelfPermissions() which needs Context and permission name
            // Context - this, permission name - Manifest.permission.ACCESS_FINE_LOCATION
            //if no permission
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) 		!= PackageManager.PERMISSION_GRANTED) {
                Log.i("request", "4");
                //ask for it
                ActivityCompat.requestPermissions(this, new String[]		{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            } else {
                Log.i("request", "5");
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
            }
        }
    }
}


====MAPS USER LOCATION MARKER CODE + PLUS decode geodata to actual address

import android.Manifest;
import android.content.pm.PackageManager;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Build;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.app.FragmentActivity;
import android.os.Bundle;
import android.support.v4.content.ContextCompat;
import android.util.Log;
import android.widget.Toast;

import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.OnMapReadyCallback;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Locale;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {

    private GoogleMap mMap;
    private LocationManager locationManager;
    private LocationListener locationListener;
    double lat;
    double lon;

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull 		int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) 		== PackageManager.PERMISSION_GRANTED) {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
            }
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_maps);

        lat = 0;
        lon = 0;

        // Obtain the SupportMapFragment and get notified when the map is ready to be used.
        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
                .findFragmentById(R.id.map);
        mapFragment.getMapAsync(this);
    }

    /**
     * Manipulates the map once available.
     * This callback is triggered when the map is ready to be used.
     * This is where we can add markers or lines, add listeners or move the camera. In this case,
     * we just add a marker near Sydney, Australia.
     * If Google Play services is not installed on the device, the user will be prompted to install
     * it inside the SupportMapFragment. This method will only be triggered once the user has
     * installed Google Play services and returned to the app.
     */
    @Override
    public void onMapReady(GoogleMap googleMap) {
        mMap = googleMap;

        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);


        locationListener = new LocationListener() {
            @Override
            public void onLocationChanged(Location location) {
                Log.i("Location: ", location.toString());
                //to draw marker on map on user move
                lat = location.getLatitude();
                lon = location.getLongitude();
                LatLng userLoc = new LatLng(lat, lon);
                mMap.addMarker(new MarkerOptions().position(userLoc).title("User-" + lat + 		":lon"));
                mMap.moveCamera(CameraUpdateFactory.newLatLng(userLoc));

                //to transform latitude and longitude to actual address
                //A class for handling geocoding and reverse geocoding. Geocoding is the process of
                // transforming a street address or other description of a location into
                // a (latitude, longitude) coordinate. Reverse geocoding is the process of
                // transforming a (latitude, longitude) coordinate into a (partial) address.
                Geocoder geocoder = new Geocoder(getApplicationContext(), Locale.getDefault());
                try {
                    List<Address> addresses = geocoder.getFromLocation(location.getLatitude(), 		location.getLongitude(), 1);
                    if (addresses != null && addresses.size() > 0) {
                        Log.i("Address", addresses.get(0).toString());
                        List<String> address = new ArrayList<>();
                        Pattern p1 = Pattern.compile("0:\"" + "(.*?)" + "\"");
                        Pattern p2 = Pattern.compile("countryCode=" + "(.*?)" + ",");
                        Pattern p3 = Pattern.compile("countryName=" + "(.*?)" + ",");
                        Pattern p4 = Pattern.compile("postalCode=" + "(.*?)" + ",");
                        Pattern p5 = Pattern.compile("latitude=" + "(.*?)" + ",");
                        Pattern p6 = Pattern.compile("longitude=" + "(.*?)" + ",");

                        Matcher match = p1.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("Address: " + match.group(1));
                        }
                        match = p2.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("countryCode: " + match.group(1));
                        }
                        match = p3.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("countryName: " + match.group(1));
                        }
                        match = p4.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("postalCod: " + match.group(1));
                        }
                        match = p5.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("latitude=: " + match.group(1));
                        }
                        match = p6.matcher(addresses.get(0).toString());
                        while (match.find()) {
                            address.add("longitude=: " + match.group(1));
                        }

                        String forToast = "";
                        for (int i = 0; i < address.size(); i++) {
                            forToast += "\n" + address.get(i);
                        }
                        Log.i("forToast", forToast);

                        Toast.makeText(getApplicationContext(), forToast, Toast.LENGTH_LONG).show		();
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }

            }

            @Override
            public void onStatusChanged(String provider, int status, Bundle extras) {
            }

            @Override
            public void onProviderEnabled(String provider) {
            }

            @Override
            public void onProviderDisabled(String provider) {
            }
        };

        //if SDK < 23(Marshmallow) - we dont need permission and can ask location immediately
        if (Build.VERSION.SDK_INT < 23) {
            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);
            //if SDK > 23
        } else {
            //check do we have permission
            //if haven't - ask
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) 		!= PackageManager.PERMISSION_GRANTED) {
                //ask permission
                ActivityCompat.requestPermissions(this, new String[]		{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            }//if have - run code to ask location
            else {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, 		locationListener);

                //to draw marker on map on start, not only when user moves
                Location lastKnownLocation = locationManager.getLastKnownLocation		(LocationManager.GPS_PROVIDER);

                Log.i("lastLoc", lastKnownLocation.toString());
                lat = lastKnownLocation.getLatitude();
                lon = lastKnownLocation.getLongitude();
                LatLng userLoc = new LatLng(lat, lon);
                mMap.addMarker(new MarkerOptions().position(userLoc).title("User-lat:" + lat + 		":lon" + lon));
                mMap.moveCamera(CameraUpdateFactory.newLatLng(userLoc));
            }
        }
    }
}


=========App Hikers Watch==================================

locationManager+locationListener+lastKnownLocation+geocoder->location by lat and lon to address

import android.Manifest;
import android.content.pm.PackageManager;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Build;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.widget.TextView;

import java.io.IOException;
import java.util.List;
import java.util.Locale;

public class MainActivity extends AppCompatActivity {

    LocationManager locationManager;
    LocationListener locationListener;
    TextView textView;


    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {
                Log.i("permission: ", "6");
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
            }
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //location manager initialize
        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);

        textView = (TextView) findViewById(R.id.textView);

        locationListener = new LocationListener() {
            @Override
            public void onLocationChanged(Location location) {
                Log.i("addressData: ", location.toString());
                textView.setText(locationData(location));
            }

            @Override
            public void onStatusChanged(String provider, int status, Bundle extras) {

            }

            @Override
            public void onProviderEnabled(String provider) {

            }

            @Override
            public void onProviderDisabled(String provider) {

            }
        };

        //if SDK < 23(Marshmallow) - we don't need permission and can ask location immediately
        if (Build.VERSION.SDK_INT < 23) {
            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
        }//if SDK > 23
        else {
            //check do we have permission
            //if haven't - ask
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
                //ask permission
                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            }//if have - run code to ask location
            else {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
                Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                if (lastKnownLocation != null) {
                    textView.setText(locationData(lastKnownLocation));
                }
            }
        }
    }


    public String locationData(Location location) {
        String addressData = "Could not find address";

        if (location != null) {
            addressData += "Latitude: " + location.getLatitude()
                    + "\nLongitude: " + location.getLongitude()
                    + "\nAccuracy: " + location.getAccuracy()
                    + "\nAttitude: " + location.getAltitude();


            Geocoder geocoder = new Geocoder(getApplicationContext(), Locale.getDefault());
            try {
                List<Address> addresses = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);
                if (addresses != null && addresses.get(0) != null) {
                    Address address = addresses.get(0);
                    if (address.getSubThoroughfare() != null) {
                        addressData += "\nAddress: " + address.getSubThoroughfare();
                    }
                    if (address.getThoroughfare() != null) {
                        addressData += ",\n" + address.getThoroughfare();
                    }
                    if (address.getLocality() != null) {
                        addressData += "\n" + address.getLocality();
                    }
                    if (address.getSubLocality() != null) {
                        addressData += "\n" + address.getSubLocality();
                    }
                    if (address.getCountryName() != null) {
                        addressData += "\n" + address.getCountryName();
                    }
                    if (address.getCountryCode() != null) {
                        addressData += " " + address.getCountryCode();
                    }
                    if (address.getPostalCode() != null) {
                        addressData += "\n" + address.getPostalCode();
                    }
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        Log.i("addressData: ", addressData);
        return addressData;
    }
}


/////////APP MEMORABLE PLACES//////////////////////////////////////////////////
/////////Maps, lastKnownLocation, multi activities, intents////////////////////

MAIN ACTIVITY
import android.content.Intent;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

import com.google.android.gms.maps.model.LatLng;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    static ArrayList<String> placesNames = new ArrayList<>();
    static ArrayList<LatLng> placesLocations = new ArrayList<>();
    static ArrayAdapter arrayAdapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Intent intent = getIntent();
        LatLng latLng = (LatLng) intent.getParcelableExtra("location");
        if (latLng != null) {
            Toast.makeText(getApplicationContext(), "LocOnMain" + latLng.toString(), Toast.LENGTH_SHORT);
        }

        ListView listView = (ListView) findViewById(R.id.listOfPlaces);

        Log.i("names",placesNames.toString());

        placesNames.add("Add new memorable place");
        placesLocations.add(new LatLng(0, 0));

        arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, placesNames);

        listView.setAdapter(arrayAdapter);

        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                Intent intent = new Intent(getApplicationContext(), MapsActivity.class);
                intent.putExtra("placeNumber",position);
                startActivity(intent);
            }
        });
    }
}

MAPS ACTIVITY
import android.Manifest;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Build;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.app.FragmentActivity;
import android.os.Bundle;
import android.support.v4.content.ContextCompat;
import android.util.Log;
import android.widget.Toast;

import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.OnMapReadyCallback;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;
import java.util.Locale;

public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {

    private GoogleMap mMap;
    private LocationManager locationManager;
    private LocationListener locationListener;
    String title;
    Intent intent;

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
                Log.i("onRequest", "results");
                Location lasKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                mapMoveCamera(lasKnownLocation, "Your location");
            }
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_maps);

        // Obtain the SupportMapFragment and get notified when the map is ready to be used.
        final SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
                .findFragmentById(R.id.map);
        mapFragment.getMapAsync(this);
    }


    /**
     * Manipulates the map once available.
     * This callback is triggered when the map is ready to be used.
     * This is where we can add markers or lines, add listeners or move the camera. In this case,
     * we just add a marker near Sydney, Australia.
     * If Google Play services is not installed on the device, the user will be prompted to install
     * it inside the SupportMapFragment. This method will only be triggered once the user has
     * installed Google Play services and returned to the app.
     */
    @Override
    public void onMapReady(GoogleMap googleMap) {
        mMap = googleMap;

        intent = getIntent();
        int placeNumber = intent.getIntExtra("placeNumber", 0);

        mMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {
            @Override
            public void onMapLongClick(LatLng latLng) {
                Geocoder geocoder = new Geocoder(getApplicationContext(), Locale.getDefault());
                title = "";
                try {
                    List<Address> listAddresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);
                    if (listAddresses != null && listAddresses.size() > 0) {
                        if (listAddresses.get(0).getThoroughfare() != null) {
                            title += listAddresses.get(0).getThoroughfare();
                            if (listAddresses.get(0).getSubThoroughfare() != null) {
                                title += listAddresses.get(0).getSubThoroughfare();
                            }
                        }
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }
                if (title.equals("")) {
                    title += "Memorable place";
                }
                SimpleDateFormat dateTime = new SimpleDateFormat("yyyy-MM-dd_HH:mm");
                title += " " + dateTime.format(new Date());

                //update values in another activity(we made them static to reach from here)
                MainActivity.placesNames.add(title);
                MainActivity.placesLocations.add(latLng);
                //invoke dataChange on adapter in another activity
                MainActivity.arrayAdapter.notifyDataSetChanged();

                Log.i("AddressGeo", title);
                mMap.addMarker(new MarkerOptions().position(latLng).title(title));

                Toast.makeText(getApplicationContext(), "Location Saved", Toast.LENGTH_SHORT).show();
            }
        });

        if (placeNumber == 0) {
            locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);
            locationListener = new LocationListener() {
                @Override
                public void onLocationChanged(Location location) {
                    mapMoveCamera(location, title);
                }

                @Override
                public void onStatusChanged(String provider, int status, Bundle extras) {

                }

                @Override
                public void onProviderEnabled(String provider) {

                }

                @Override
                public void onProviderDisabled(String provider) {

                }
            };

            if (Build.VERSION.SDK_INT < 23) {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
            } else {
                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
                } else {
                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
                    Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                    mapMoveCamera(lastKnownLocation, "Your location");
                }
            }
        } else {
            Location location = new Location(LocationManager.GPS_PROVIDER);
            location.setLatitude(MainActivity.placesLocations.get(placeNumber).latitude);
            location.setLongitude(MainActivity.placesLocations.get(placeNumber).longitude);

            mapMoveCamera(location, MainActivity.placesNames.get(placeNumber));
        }

        // Add a marker in Sydney and move the camera
        /*LatLng sydney = new LatLng(-34, 151);
        mMap.addMarker(new MarkerOptions().position(sydney).title("Marker in Sydney"));
        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(sydney,10));*/
    }

    public void mapMoveCamera(Location location, String title) {
        Log.i("locationDraw", location.toString());
        LatLng userLoc = new LatLng(location.getLatitude(), location.getLongitude());
        //mMap.moveCamera(CameraUpdateFactory.newLatLng(userLoc));
        if (!title.equals("You location")) ;
        {
            mMap.addMarker(new MarkerOptions().position(userLoc).title(title));
        }
        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(userLoc, 12));
    }
}


////////////SAVE DATA///////////////////////////////////////
///////////SharedPreferences////////////////////////////////

to save data in app - use SharedPreferences class
create object of ShraedPreferences class -> call getSharedPreferencess(String name, int privacyMode)on it from activity like 
//mode_private - make usable only for this app
        SharedPreferences sharedPreferences = this.getSharedPreferences("com.example.a.appsharedpreferences", Context.MODE_PRIVATE);

than add value to storage of sharedPreferences
sharedPreferences.edit().putString("userName","rob").apply();

to retrive value back from sharedPreferences
//in getString() first string - key for value, second - default value if key returns nothing or wrong
        String userName = sharedPreferences.getString("userName","1");


to save big chunk of data like array - use serializer class which have methods to convert array to string and back

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class ObjectSerializer {

    public static String serialize(Serializable obj) throws IOException {
        if (obj == null) return "";
        try {
            ByteArrayOutputStream serialObj = new ByteArrayOutputStream();
            ObjectOutputStream objStream = new ObjectOutputStream(serialObj);
            objStream.writeObject(obj);
            objStream.close();
            return encodeBytes(serialObj.toByteArray());
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static Object deserialize(String str) throws IOException {
        if (str == null || str.length() == 0) return null;
        try {
            ByteArrayInputStream serialObj = new ByteArrayInputStream(decodeBytes(str));
            ObjectInputStream objStream = new ObjectInputStream(serialObj);
            return objStream.readObject();
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static String encodeBytes(byte[] bytes) {
        StringBuffer strBuf = new StringBuffer();

        for (int i = 0; i < bytes.length; i++) {
            strBuf.append((char) (((bytes[i] >> 4) & 0xF) + ((int) 'a')));
            strBuf.append((char) (((bytes[i]) & 0xF) + ((int) 'a')));
        }

        return strBuf.toString();
    }

    public static byte[] decodeBytes(String str) {
        byte[] bytes = new byte[str.length() / 2];
        for (int i = 0; i < str.length(); i+=2) {
            char c = str.charAt(i);
            bytes[i/2] = (byte) ((c - 'a') << 4);
            c = str.charAt(i+1);
            bytes[i/2] += (c - 'a');
        }
        return bytes;
    }
}


and main will be 

import android.content.Context;
import android.content.SharedPreferences;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;

import java.io.IOException;
import java.util.ArrayList;

//add ObjectSerializer class to convert arrayList to string
public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //mode_private - make usable only for this app
        SharedPreferences sharedPreferences = this.getSharedPreferences("com.example.a.appsharedpreferences", Context.MODE_PRIVATE);
       // sharedPreferences.edit().putString("userName","rob").apply();

        //in getString() first string - key for value, second - default value if key returns nothing or wrong
        String userName = sharedPreferences.getString("userName","1");

        Log.i("shared string", userName);

        ArrayList<String> strings = new ArrayList<>();
        strings.add("Marry");
        strings.add("has");
        strings.add("a little");
        strings.add("lamb");

        try {
            sharedPreferences.edit().putString("strings", ObjectSerializer.serialize(strings)).apply();
        } catch (IOException e) {
            e.printStackTrace();
        }

        ArrayList<String> restoredStrings = new ArrayList<>();
        try {
            restoredStrings= (ArrayList<String>) ObjectSerializer.deserialize(sharedPreferences.getString("strings",ObjectSerializer.serialize(new ArrayList<String>())));
        } catch (IOException e) {
            e.printStackTrace();
        }

        Log.i("restoredString",restoredStrings.toString());
    }
}

//////////////APP MEMORABLE PLACES WITH DATA SAVE/////////////
//////////////Shared preferences//////////////////////////////

===========MainActivity

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

import com.google.android.gms.maps.model.LatLng;

import java.io.IOException;
import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    static ArrayList<String> placesNames = new ArrayList<>();
    static ArrayList<LatLng> placesLocations = new ArrayList<>();
    static ArrayAdapter arrayAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Intent intent = getIntent();
        LatLng latLng = (LatLng) intent.getParcelableExtra("location");
        if (latLng != null) {
            Toast.makeText(getApplicationContext(), "LocOnMain" + latLng.toString(), Toast.LENGTH_SHORT);
        }

        ListView listView = (ListView) findViewById(R.id.listOfPlaces);

        Log.i("names", placesNames.toString());

        SharedPreferences sharedPreferences = this.getSharedPreferences("com.google.android.gms.maps.model.LatLng", Context.MODE_PRIVATE);
        ArrayList<String> latitudes = new ArrayList<>();
        ArrayList<String> longitudes = new ArrayList<>();

        placesNames.clear();
        placesLocations.clear();
        latitudes.clear();
        longitudes.clear();

        try {
            placesNames.addAll((ArrayList<String>) ObjectSerializer.deserialize(sharedPreferences.getString("placesNames", ObjectSerializer.serialize(new ArrayList<String>()))));
            latitudes.addAll((ArrayList<String>) ObjectSerializer.deserialize(sharedPreferences.getString("latitudes", ObjectSerializer.serialize(new ArrayList<String>()))));
            Log.i("Lat: ", latitudes.toString());
            longitudes.addAll((ArrayList<String>) ObjectSerializer.deserialize(sharedPreferences.getString("longitudes", ObjectSerializer.serialize(new ArrayList<String>()))));
            Log.i("Lon: ", longitudes.toString());
        } catch (IOException e) {
            e.printStackTrace();
        }

        if (placesNames.size() > 0 && latitudes.size() > 0 && longitudes.size() > 0) {
            if (placesNames.size() == latitudes.size() && latitudes.size() == longitudes.size()) {
                for (int i = 0; i < latitudes.size(); i++) {
                    placesLocations.add(new LatLng(Double.parseDouble(latitudes.get(i)), Double.parseDouble(longitudes.get(i))));
                }
            }
        } else {
            placesNames.add("Add new memorable place");
            placesLocations.add(new LatLng(0, 0));
        }


        arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, placesNames);

        listView.setAdapter(arrayAdapter);

        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                Intent intent = new Intent(getApplicationContext(), MapsActivity.class);
                intent.putExtra("placeNumber", position);
                startActivity(intent);
            }
        });
    }
}


=========MapsActivity

import android.Manifest;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.pm.PackageManager;
import android.location.Address;
import android.location.Geocoder;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Build;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.app.FragmentActivity;
import android.os.Bundle;
import android.support.v4.content.ContextCompat;
import android.util.Log;
import android.widget.Toast;

import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.OnMapReadyCallback;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Locale;

public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {

    private GoogleMap mMap;
    private LocationManager locationManager;
    private LocationListener locationListener;
    String title;
    Intent intent;

    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
                Log.i("onRequest", "results");
                Location lasKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                mapMoveCamera(lasKnownLocation, "Your location");
            }
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_maps);

        // Obtain the SupportMapFragment and get notified when the map is ready to be used.
        final SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()
                .findFragmentById(R.id.map);
        mapFragment.getMapAsync(this);
    }

    @Override
    public void onMapReady(GoogleMap googleMap) {
        mMap = googleMap;

        intent = getIntent();
        int placeNumber = intent.getIntExtra("placeNumber", 0);
        title = "Your location";

        mMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {
            @Override
            public void onMapLongClick(LatLng latLng) {
                Geocoder geocoder = new Geocoder(getApplicationContext(), Locale.getDefault());
                title = "";
                try {
                    List<Address> listAddresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);
                    if (listAddresses != null && listAddresses.size() > 0) {
                        if (listAddresses.get(0).getThoroughfare() != null) {
                            title += listAddresses.get(0).getThoroughfare();
                            if (listAddresses.get(0).getSubThoroughfare() != null) {
                                title += listAddresses.get(0).getSubThoroughfare();
                            }
                        }
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }
                if (title.equals("")) {
                    title += "Memorable place";
                }
                SimpleDateFormat dateTime = new SimpleDateFormat("yyyy-MM-dd_HH:mm");
                title += " " + dateTime.format(new Date());

                //update values in another activity(we made them static to reach from here)
                MainActivity.placesNames.add(title);
                MainActivity.placesLocations.add(latLng);
                //invoke dataChange on adapter in another activity
                MainActivity.arrayAdapter.notifyDataSetChanged();

                SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences("com.google.android.gms.maps.model.LatLng", Context.MODE_PRIVATE);
                try {
                    ArrayList<String> latitudes = new ArrayList<String>();
                    ArrayList<String> longitudes = new ArrayList<String>();
                    for(LatLng coordinates : MainActivity.placesLocations){
                        latitudes.add(""+coordinates.latitude);
                        longitudes.add(""+coordinates.longitude);
                    }

                    sharedPreferences.edit().putString("placesNames", ObjectSerializer.serialize(MainActivity.placesNames)).apply();
                    sharedPreferences.edit().putString("latitudes", ObjectSerializer.serialize(latitudes)).apply();
                    sharedPreferences.edit().putString("longitudes", ObjectSerializer.serialize(longitudes)).apply();

                } catch (IOException e) {
                    e.printStackTrace();
                }

                Log.i("AddressGeo", title);
                mMap.addMarker(new MarkerOptions().position(latLng).title(title));

                Toast.makeText(getApplicationContext(), "Location Saved", Toast.LENGTH_SHORT).show();
            }
        });

        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);
        locationListener = new LocationListener() {
            @Override
            public void onLocationChanged(Location location) {
                mapMoveCamera(location, title);
            }

            @Override
            public void onStatusChanged(String provider, int status, Bundle extras) {

            }

            @Override
            public void onProviderEnabled(String provider) {

            }

            @Override
            public void onProviderDisabled(String provider) {

            }
        };

        if (Build.VERSION.SDK_INT < 23) {
            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
        } else {
            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            } else {
                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
            }


            if (placeNumber == 0) {
                Location lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                if (lastKnownLocation == null) {
                    lastKnownLocation = new Location(LocationManager.GPS_PROVIDER);
                    lastKnownLocation.setLatitude(0);
                    lastKnownLocation.setLongitude(0);
                    Log.i("lastLocNull", lastKnownLocation.toString());
                    mapMoveCamera(lastKnownLocation, "Your location");
                } else {
                    mapMoveCamera(lastKnownLocation, "Your location");
                }
            } else {
                Location location = new Location(LocationManager.GPS_PROVIDER);
                location.setLatitude(MainActivity.placesLocations.get(placeNumber).latitude);
                location.setLongitude(MainActivity.placesLocations.get(placeNumber).longitude);

                mapMoveCamera(location, MainActivity.placesNames.get(placeNumber));
            }
        }
    }

    public void mapMoveCamera(Location location, String title) {
        Log.i("locationDraw", location.toString());
        Log.i("locationTitle", title);
        LatLng userLoc = new LatLng(location.getLatitude(), location.getLongitude());
        //mMap.moveCamera(CameraUpdateFactory.newLatLng(userLoc));
        if (!title.equals("Your location")) {
            mMap.addMarker(new MarkerOptions().position(userLoc).title(title));
        }
        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(userLoc, 12));
    }
}

============ObjectSerializer

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class ObjectSerializer {

    public static String serialize(Serializable obj) throws IOException {
        if (obj == null) return "";
        try {
            ByteArrayOutputStream serialObj = new ByteArrayOutputStream();
            ObjectOutputStream objStream = new ObjectOutputStream(serialObj);
            objStream.writeObject(obj);
            objStream.close();
            return encodeBytes(serialObj.toByteArray());
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static Object deserialize(String str) throws IOException {
        if (str == null || str.length() == 0) return null;
        try {
            ByteArrayInputStream serialObj = new ByteArrayInputStream(decodeBytes(str));
            ObjectInputStream objStream = new ObjectInputStream(serialObj);
            return objStream.readObject();
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static String encodeBytes(byte[] bytes) {
        StringBuffer strBuf = new StringBuffer();

        for (int i = 0; i < bytes.length; i++) {
            strBuf.append((char) (((bytes[i] >> 4) & 0xF) + ((int) 'a')));
            strBuf.append((char) (((bytes[i]) & 0xF) + ((int) 'a')));
        }

        return strBuf.toString();
    }

    public static byte[] decodeBytes(String str) {
        byte[] bytes = new byte[str.length() / 2];
        for (int i = 0; i < str.length(); i+=2) {
            char c = str.charAt(i);
            bytes[i/2] = (byte) ((c - 'a') << 4);
            c = str.charAt(i+1);
            bytes[i/2] += (c - 'a');
        }
        return bytes;
    }
}


///////////MENU///////////////

to add menu - add new menu directory ro resources directory
add new menu resource file main_manu.xml

add to file main_menu.xml 

<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:title="@string/settings"
        android:id="@+id/settings"></item>

    <item android:title="@string/help"
        android:id="@+id/help"></item>

</menu>

add to MainActivity

@Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater menuInflater = getMenuInflater();
        menuInflater.inflate(R.menu.main_menu, menu);

        return super.onCreateOptionsMenu(menu);
    }

and add

@Override
    public boolean onOptionsItemSelected(MenuItem item) {
        super.onOptionsItemSelected(item);

        switch (item.getItemId()) {
            case R.id.settings:
                Log.i("Menu", "settings selected");
                return true;
            case R.id.help:
                Log.i("Menu", " help selected");
                return true;
            default:
                return false;
        }
    }


/////////////////////ALERTS/////////////

to add alert - add new AlertDialog.Builder(context) and set all needed properties to it

import android.app.AlertDialog;
import android.content.DialogInterface;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        new AlertDialog.Builder(this)
                .setIcon(android.R.drawable.ic_dialog_alert)
                .setTitle("Are you sure?")
                .setMessage("Do you definitely want to do this?")
                .setPositiveButton("Yes", new DialogInterface.OnClickListener(){

                    @Override
                    public void onClick(DialogInterface dialog, int which) {

                        Toast.makeText(MainActivity.this, "It's done!", Toast.LENGTH_SHORT).show();
                    }
                })
                .setNegativeButton("No", null)
                .show();
    }
}

////////APP ALERTS DEMO/////////////////

import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.SharedPreferences;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    String language;
    TextView textLanguage;
    SharedPreferences sharedPreferences;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        sharedPreferences = this.getSharedPreferences("com.example.a.appalertdemo", Context.MODE_PRIVATE);
        textLanguage = (TextView) findViewById(R.id.textView);
        textLanguage.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setLanguage();
            }
        });

        language = sharedPreferences.getString("language", "");

        if (language.equals("")) {
            setLanguage();
        } else {
            textLanguage.setText(language);
        }


        /*new AlertDialog.Builder(this)
                .setIcon(android.R.drawable.ic_dialog_alert)
                .setTitle("Are you sure?")
                .setMessage("Do you definitely want to do this?")
                .setPositiveButton("Yes", new DialogInterface.OnClickListener(){

                    @Override
                    public void onClick(DialogInterface dialog, int which) {

                        Toast.makeText(MainActivity.this, "It's done!", Toast.LENGTH_SHORT).show();
                    }
                })
                .setNegativeButton("No", null)
                .show();*/
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater menuInflater = getMenuInflater();
        menuInflater.inflate(R.menu.languagemenu, menu);

        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        super.onOptionsItemSelected(item);
        if (item.getItemId() == R.id.english) {
            useLanguage("English");
        } else if (item.getTitle().equals("Spanish")) {
            useLanguage("Spanish");
        }
        return true;
    }

    public void setLanguage() {
        new AlertDialog.Builder(this)
                .setIcon(android.R.drawable.ic_btn_speak_now)
                .setTitle("Which language do you need?")
                .setMessage("Choose")
                .setPositiveButton("English", new DialogInterface.OnClickListener() {

                    @Override
                    public void onClick(DialogInterface dialog, int which) {
                        useLanguage("English");
                    }
                })
                .setNegativeButton("Spanish", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                useLanguage("Spanish");
                            }
                        }
                ).show();
    }

    public void useLanguage(String language) {
        textLanguage.setText(language);
        sharedPreferences.edit().putString("language", language).apply();
    }
}



///////////////APP NOTES SAVER//////////////
/////////Intents, Alerts, Menu//////////////

===MainActivity

import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListView;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;

public class MainActivity extends AppCompatActivity {

    static ArrayList<String> notes = new ArrayList<>();
    static ArrayAdapter<String> arrayAdapter;
    static ArrayList<String> viewNotes;
    private SharedPreferences sharedPreferences;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);


        sharedPreferences = this.getSharedPreferences("com.example.a.appnotessaver", Context.MODE_PRIVATE);
        //sharedPreferences.edit().clear().apply();

        ListView listView = (ListView) findViewById(R.id.list);

        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                Intent intent = new Intent(getApplicationContext(), EditTextActivity.class);
                intent.putExtra("note", (notes.size() - 1 - position));
                Log.i("intent", "" + (notes.size() - 1 - position));
                startActivity(intent);
            }
        });

        listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
            @Override
            public boolean onItemLongClick(AdapterView<?> parent, View view, final int position, long id) {
                new AlertDialog.Builder(MainActivity.this)
                        .setIcon(android.R.drawable.ic_input_delete)
                        .setTitle("Choose action")
                        .setMessage("Do you want to delete this note?")
                        .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                Log.i("which", "" + position);
                                notes.remove(notes.size() - 1 - position);
                                try {
                                    sharedPreferences.edit().putString("notes", ObjectSerializer.serialize(notes)).apply();

                                    viewNotes.clear();
                                    viewNotes.addAll(notes);
                                    Collections.reverse(viewNotes);
                                    arrayAdapter.notifyDataSetChanged();
                                } catch (IOException e) {
                                    e.printStackTrace();
                                }

                            }
                        })
                        .setNegativeButton("No", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                Log.i("which", "" + position);
                            }
                        })
                        .show();
                //put true here to work properly with usual click listener
                return true;
            }
        });

        try {
            notes.addAll((ArrayList<String>) ObjectSerializer.deserialize(sharedPreferences.getString("notes", ObjectSerializer.serialize(new ArrayList<String>()))));
            Log.i("shared decode", notes.toString());
        } catch (IOException e) {
            e.printStackTrace();
        }
        viewNotes = new ArrayList<>();
        viewNotes.addAll(notes);
        Collections.reverse(viewNotes);

        /*if (viewNotes.size() == 0) {
            viewNotes.add("new");
        }*/

        Log.i("adapter", "invoke");
        arrayAdapter = new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, viewNotes);
        listView.setAdapter(arrayAdapter);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater menuInflater = new MenuInflater(this);
        menuInflater.inflate(R.menu.new_note_menu, menu);

        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        Intent intent = new Intent(this, EditTextActivity.class);
        intent.putExtra("rewrite", false);
        startActivity(intent);
        return true;
    }
}

====EditTextActivity

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.widget.EditText;

import java.io.IOException;
import java.util.Collections;

public class EditTextActivity extends AppCompatActivity {

    private EditText editNote;
    private int noteNumber;
    private boolean rewrite;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_edit_text);

        editNote = (EditText) findViewById(R.id.editNote);

        Intent intent = getIntent();
        noteNumber = intent.getIntExtra("note", -1);
        if (noteNumber > -1) {
            editNote.setText(MainActivity.notes.get(noteNumber));
        }
        Log.i("noteNumber", "" + noteNumber);

        rewrite = intent.getBooleanExtra("rewrite", true);
        Log.i("rewrite", "" + rewrite);

        /*TextView editEntryView = new TextView(...);
        InputFilter[] filterArray = new InputFilter[1];
        filterArray[0] = new InputFilter.LengthFilter(8);
        editEntryView.setFilters(filterArray);*/
    }

    @Override
    public void onBackPressed() {
        if (!editNote.getText().toString().equals("") && !editNote.getText().toString().equals(" ")) {
            if (!rewrite) {
                MainActivity.notes.add(editNote.getText().toString());
                notesWriter();
            } else {
                MainActivity.notes.set(noteNumber, editNote.getText().toString());
                notesWriter();
            }
        }
        super.onBackPressed();
    }

    private void notesWriter() {
        MainActivity.viewNotes.clear();
        MainActivity.viewNotes.addAll(MainActivity.notes);
        Collections.reverse(MainActivity.viewNotes);
        MainActivity.arrayAdapter.notifyDataSetChanged();

        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences("com.example.a.appnotessaver", Context.MODE_PRIVATE);

        Log.i("back", "button");
        try {
            Log.i("notes", MainActivity.notes.toString());
            Log.i("viewNotes", MainActivity.viewNotes.toString());
            sharedPreferences.edit().putString("notes", ObjectSerializer.serialize(MainActivity.notes)).apply();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

==activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/padd"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/colorAccent"
    tools:context="com.example.a.appnotessaver.MainActivity">

    <ListView
        android:id="@+id/list"
        android:layout_width="390dp"
        android:layout_height="0dp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginStart="4dp"
        android:layout_marginTop="8dp"
        android:background="@android:color/background_light"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"
        android:layout_marginBottom="8dp" />

</android.support.constraint.ConstraintLayout>

===activity_edit_text.xml
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/colorAccent"
    tools:context="com.example.a.appnotessaver.EditTextActivity">

    <EditText
        android:id="@+id/editNote"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_marginBottom="8dp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="8dp"
        android:background="@android:color/background_light"
        android:ems="10"
        android:gravity="top"
        android:hint="Note"
        android:inputType="textMultiLine"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent" />
</android.support.constraint.ConstraintLayout>

===new_menu_note.xml
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:title="Add new note" android:id="@+id/new_mote"/>

</menu>


////////////DATABASE///////////////
///////////SQLite//////////////////
///////AppSQLiteDemo///////////////

SQLiteDatabase has methods to create, delete, execute SQL commands, and perform other common database management tasks.
Database names must be unique within an application, not across all applications.

import android.content.ContentValues;
import android.database.Cursor;
import android.database.DatabaseUtils;
import android.database.sqlite.SQLiteDatabase;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;

import java.util.Arrays;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        try {
            SQLiteDatabase myDatabase = this.openOrCreateDatabase("Users", MODE_PRIVATE, null);

            //delete table
            myDatabase.execSQL("DROP TABLE IF EXISTS users");
            //create table
            //SQLite already has hidden index autoincrement field - rowid
            //access to records via rowid is highly optimized and very fast.
            //also you  can refer to the rowid column using its two alias such as _rowid_ or oid
            //myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (name VARCHAR, age INT(3))");

            //myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (name VARCHAR, age INT(3))");
            //(to autoincrement id - just make field - primary key)
            //If a table has the primary key that consists of one column, and that column defined
            //as INTEGER, exactly INTEGER in any cases, such as,INTEGER,integer, etc., then this
            //primary key column becomes an alias for the rowid column.
            myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (userID INTEGER PRIMARY KEY,name VARCHAR, age INT(3))");
            //Because the rowid table stores data as a B-Tree, querying and sorting data using
            //rowid are very fast. It is faster than using a primary key that is not an alias
            //of the rowid.
            //Another important note is that if you declare a column with the INTEGER type and
            //PRIMARY KEY DESC clause, it does not become an alias for the rowid column.

            //SQLite AUTOINCREMENT attribute
            //SQLite recommends that you should not use AUTOINCREMENT attribute because:
            //it does not reuse the number that has not been used.
            //the main purpose of using AUTOINCREMENT attribute is
            //to prevent SQLite to reuse value that has not been used or from the previously deleted row.
            //the AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead
            //and should be avoided if not strictly needed. It is usually not needed.
            //In addition, the way SQLite assigns a value for the AUTOINCREMENT column is slightly
            //different from the way it used for rowid column.
            //myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (userID INTEGER PRIMARY KEY AUTOINCREMENT,name VARCHAR, age INT(3))");

	    //The WITHOUT ROWID optimization is likely to be helpful for tables that have 
            //non-integer or composite (multi-column) PRIMARY KEYs and that do not store large 
            //strings or BLOBs.
            //myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (userID INT PRIMARY, name VARCHAR, age INT(3)) WITHOUT ROWID");
            //A WITHOUT ROWID table is a table that uses a Clustered Index as the primary key.
            //To create a WITHOUT ROWID table, simply add the keywords "WITHOUT ROWID" to
            //the end of the CREATE TABLE statement.
            //Every WITHOUT ROWID table must have a PRIMARY KEY. An attempt to create
            //a WITHOUT ROWID table without a PRIMARY KEY results in an error.
            //The special behaviors associated "INTEGER PRIMARY KEY" do not apply on
            //WITHOUT ROWID tables. In an ordinary table, "INTEGER PRIMARY KEY" means that
            //the column is an alias for the rowid. But since there is no rowid in a
            //WITHOUT ROWID table, that special meaning no longer applies.
            //An "INTEGER PRIMARY KEY" column in a WITHOUT ROWID table works like
            //an "INT PRIMARY KEY" column in an ordinary table: It is a PRIMARY KEY
            //that has integer affinity.
            //myDatabase.execSQL("CREATE TABLE IF NOT EXISTS users (userID INTEGER PRIMARY KEY,name VARCHAR, age INT(3)) WITHOUT ROWID");

            //to truncate table - delete all from table and than vacuum it to rid out of empty space
            myDatabase.execSQL("DELETE FROM USERS");
            myDatabase.execSQL("VACUUM");

            //insert data to database
            myDatabase.execSQL("INSERT INTO users VALUES(null,'Rob',34)");
            myDatabase.execSQL("INSERT INTO users(name,age) VALUES ('Tommy',4)");
            myDatabase.execSQL("INSERT INTO users(name,age) VALUES ('Amilu',21),('Bomarshe',52),('Clementine',17)");
            myDatabase.execSQL("INSERT INTO users(name,age) VALUES ('Robin',11),('Robin',33),('Robin',33),('Robin',35),('Roben',32),('Robert',37), ('Ramon', 28),('Ramona',25)");
            ContentValues cv = new ContentValues();
            cv.put("name", "Ithan");
            cv.put("age", 35);
            myDatabase.insert("users", null, new ContentValues(cv));

            //delete data from database
            //myDatabase.execSQL("DELETE FROM users WHERE name = 'Robin' AND age = 33");
            myDatabase.execSQL("DELETE FROM users WHERE userId IN (SELECT userId FROM users WHERE name = 'Robin' AND age=33 LIMIT 1)");
            //delete using build-in rowid
            //myDatabase.execSQL("DELETE FROM users WHERE rowid IN (SELECT rowid FROM users WHERE name = 'Robin' AND age=33 LIMIT 1)");

            //update data
            myDatabase.execSQL("UPDATE users SET age = 99 WHERE name LIKE 'Bo%'");

            //cursor object allows us to loop through all results of some query
            Cursor c = myDatabase.rawQuery("SELECT * FROM users", null);

            Log.i("SQL columns", String.valueOf(c.getColumnCount()));
            Log.i("SQL column names", Arrays.toString(c.getColumnNames()));
            Log.i("SQL age index", String.valueOf(c.getColumnIndexOrThrow("age")));
            Log.i("SQL name index", String.valueOf(c.getColumnIndexOrThrow("name")));

            //c = myDatabase.rawQuery("SELECT * FROM users WHERE age>4",null);
            //c = myDatabase.rawQuery("SELECT name FROM users WHERE age>4",null);
            //c = myDatabase.rawQuery("SELECT name FROM users WHERE age>4 AND name LIKE 'R%'",null);
            //c = myDatabase.rawQuery("SELECT name FROM users WHERE age>4 AND name LIKE 'Ro%'",null);
            //c = myDatabase.rawQuery("SELECT name FROM users WHERE age>4 AND name LIKE '%o%'",null);
            //c = myDatabase.rawQuery("SELECT * FROM users WHERE age>4 AND name LIKE '%o%' ORDER BY name ASC",null);
            //c = myDatabase.rawQuery("SELECT * FROM users WHERE age>4 AND name LIKE '%o%' ORDER BY age DESC", null);
            //c = myDatabase.rawQuery("SELECT * FROM users WHERE age>4 AND name LIKE '%o%' ORDER BY age DESC LIMIT 2", null);
            c = myDatabase.rawQuery("SELECT * FROM users ORDER BY name ASC, age DESC", null);
            //to display build-in index field - you need to call it explicitly
            //c = myDatabase.rawQuery("SELECT rowid,name,age FROM users ORDER BY name ASC, age DESC", null);
            //c = myDatabase.rawQuery("SELECT rowid,* FROM users ORDER BY name ASC, age DESC", null);
            //Log.i("SQL",c.toString());
            Log.i("SQL results", String.valueOf(c.getCount()));
            Log.i("SQL", "ORDER - name = ASC age = DESC");
            c.moveToFirst();
            while (!c.isAfterLast()) {
                //Log.i("SQL name", c.getString(c.getColumnIndexOrThrow("name")));
                //Log.i("SQL age", c.getString(c.getColumnIndexOrThrow("age")));
                Log.i("SQL", "userID: " + c.getInt(c.getColumnIndexOrThrow("userID")) + " name: " + c.getString(c.getColumnIndexOrThrow("age")) + " age: " + c.getString(c.getColumnIndexOrThrow("name")));
                //Log.i("SQL", "rowID: " + c.getInt(c.getColumnIndexOrThrow("rowid")) + "userID: " + c.getInt(c.getColumnIndexOrThrow("userID")) + " name: " + c.getString(c.getColumnIndexOrThrow("age")) + " age: " + c.getString(c.getColumnIndexOrThrow("name")));
                //Log.i("SQL", "userID: " + c.getInt(c.getColumnIndexOrThrow("rowid")) + " name: " + c.getString(c.getColumnIndexOrThrow("age")) + " age: " + c.getString(c.getColumnIndexOrThrow("name")));
                c.moveToNext();
            }

            //retrieve data from db as ContentValues
            /*ArrayList<ContentValues> retVal = new ArrayList<ContentValues>();
            ContentValues map;
            if(c.moveToFirst()) {
                do {
                    map = new ContentValues();
                    DatabaseUtils.cursorRowToContentValues(c, map);
                    retVal.add(map);
                } while(c.moveToNext());
            }*/

            /*SQLiteDatabase eventsDatabase = this.openOrCreateDatabase("Events", MODE_PRIVATE,null);
            eventsDatabase.execSQL("CREATE TABLE IF NOT EXISTS events (event VARCHAR, year INT(5))");

            eventsDatabase.execSQL("INSERT INTO events(year, event) VALUES (1952, 'RIDGSTONE')");
            eventsDatabase.execSQL("INSERT INTO events(year, event) VALUES (1700, 'BlancoNegro')");
            eventsDatabase.execSQL("INSERT INTO events(year, event) VALUES (1810, 'Apperet')");
            eventsDatabase.execSQL("INSERT INTO events(year, event) VALUES (1989, 'Martin')");

            c = eventsDatabase.rawQuery("SELECT * FROM events", null);
            int eventsColumn = c.getColumnIndexOrThrow("event");
            int yearsColumn = c.getColumnIndexOrThrow("year");

            c.moveToFirst();
            while(!c.isAfterLast()){
                Log.i("year", c.getString(yearsColumn));
                Log.i("event", c.getString(eventsColumn));
                c.moveToNext();
            }*/


            /*// to check which tables in database
            // Cursor info = myDatabase.rawQuery("SELECT name FROM sqlite_master WHERE type='table'",null);
            Cursor info = myDatabase.rawQuery("SELECT name FROM sqlite_master\n" +
                    "            WHERE type IN ('table','view') AND name NOT LIKE 'sqlite_%'\n" +
                    "            UNION ALL\n" +
                    "            SELECT name FROM sqlite_temp_master\n" +
                    "            WHERE type IN ('table','view')\n" +
                    "            ORDER BY 1",null);

            Log.i("INFO", String.valueOf(info.getCount()));

            info.moveToFirst();
            while(!info.isAfterLast()){
                Log.i("INFO table name",info.getString(0));
                info.moveToNext();
            }*/

            c.close();
            myDatabase.close();

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}








//////////////////////APP NEWS READER//////////////////
//////////////////SQLite, WebView, pumpm data from api, JSON

===========MainActivity

package com.example.a.appnewsreader;

import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteStatement;
import android.os.AsyncTask;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListView;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    ArrayList<String> titles = new ArrayList<>();
    ArrayList<String> contents = new ArrayList<>();
    ArrayAdapter arrayAdapter;

    static SQLiteDatabase articlesDB;

    private class AllWorkTask extends AsyncTask<String, Void, String> {
        @Override
        protected String doInBackground(String... params) {

            //get news indexes
            String result = dataFromUrl(params[0]);

            //get news by index
            JSONArray jsonArray;
            try {
                jsonArray = new JSONArray(result);

                int numberOfResults = 20;
                if (jsonArray.length() < 20) {
                    numberOfResults = jsonArray.length();
                }

                //clear DB
                articlesDB.execSQL("DELETE FROM articles");

                //get data from news - title, by and url -> get content by url -> put all to DB
                for (int i = 0; i < numberOfResults; i++) {
                    String articleId = jsonArray.getString(i);
                    String data = dataFromUrl("https://hacker-news.firebaseio.com/v0/item/" + articleId + ".json?print=pretty");
                    JSONObject jsonObject = new JSONObject(data);

                    String by = "";
                    String articleTitle = "";
                    String articleUrl = "";

                    if (!jsonObject.isNull("title") && !jsonObject.isNull("url")) {
                        articleTitle = jsonObject.getString("title");
                        articleUrl = jsonObject.getString("url");
                        if (!jsonObject.isNull("by")) {
                            by = jsonObject.getString("by");
                        }
                        String articleContent = dataFromUrl(articleUrl);

                        String sql = "INSERT INTO articles (articleId, title, content) VALUES(?,?,?)";

                        SQLiteStatement statement = articlesDB.compileStatement(sql);

                        statement.bindString(1, articleId);
                        statement.bindString(2, articleTitle);
                        statement.bindString(3, articleContent);

                        statement.execute();
                    }

                    Log.i("Story", "Title: " + articleTitle + " - by " + by);
                    Log.i("URL", articleUrl);
                    Log.i("DONE", "task: " + i);
                }
            } catch (JSONException e1) {
                e1.printStackTrace();
            }
            return null;
        }

        @Override
        protected void onPostExecute(String s) {
            super.onPostExecute(s);

            updateListView();
        }
    }


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ListView listView = (ListView) findViewById(R.id.listWiew);
        arrayAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, titles);
        listView.setAdapter(arrayAdapter);

        articlesDB = this.openOrCreateDatabase("articles", MODE_PRIVATE, null);

        articlesDB.execSQL("CREATE TABLE IF NOT EXISTS articles (id INTEGER PRIMARY KEY, articleID INT, title VARCHAR, content VARCHAR)");

        updateListView();

        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                Intent intent = new Intent(getApplicationContext(), WebActivity.class);
                intent.putExtra("content", contents.get(position));

                startActivity(intent);
            }
        });

        //AllWorkTask work = new AllWorkTask();
        //work.execute("https://hacker-news.firebaseio.com/v0/newstories.json?print=pretty");


    }

    private void updateListView() {
        Cursor c = articlesDB.rawQuery("SELECT * FROM articles", null);

        int contentIndex = c.getColumnIndex("content");
        int titleIndex = c.getColumnIndex("title");

        c.moveToFirst();
        if (!c.isAfterLast()) {
            titles.clear();
            contents.clear();

            do {
                titles.add(c.getString(titleIndex));
                contents.add(c.getString(contentIndex));
            } while (c.moveToNext());

            arrayAdapter.notifyDataSetChanged();
        }
        c.close();
    }

    private String dataFromUrl(String urlPath) {
        String result = "";
        URL url;
        HttpURLConnection httpURLConnection;

        try {
            url = new URL(urlPath);
            httpURLConnection = (HttpURLConnection) url.openConnection();
            InputStream inputStream = httpURLConnection.getInputStream();
            InputStreamReader reader = new InputStreamReader(inputStream);
            int data = reader.read();

            while (data != -1) {
                char current = (char) data;
                result += current;
                data = reader.read();
            }
            Log.i("URLcontent", result);
        } catch (MalformedURLException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        return result;
    }
}

========WebActivity

package com.example.a.appnewsreader;

import android.content.Intent;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.webkit.WebView;
import android.webkit.WebViewClient;

import static com.example.a.appnewsreader.MainActivity.articlesDB;

public class WebActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_web);

        WebView webView = (WebView) findViewById(R.id.webView);

        webView.getSettings().setJavaScriptEnabled(true);

        webView.setWebViewClient(new WebViewClient());

        //webView.loadUrl("https://devblogs.nvidia.com/parallelforall/inside-volta/");

        Intent intent = getIntent();
        String content = intent.getStringExtra("content");
        webView.loadData(content, "text/html", "UTF-8");
    }
}


////////////////PARSE SERVER ON AWS -AMAZON WEB SERVICE///
//////////////////////////////////////////////////////////

go to aws.amazon.com

sign in to the console   

All services ->
EC2 (ElasticCompute - where elastic means that it will be streched automaticaly depends on your need) ->
Launch Instance ->
AWS Marketplace ->
Search Parse, Select Parse Server powered by Bitnami ->  
Continue ->
Choose t2.micro ->
Rewiev and launch ->
Launch ->  
select Create new key pair ->
key pair name instagramandroid ->
Download key pair -> 
Launche instance ->         
instance name ->
load firefox to connect with ssh through browser lul -> 
Connect ->
ssh client ->
use putty to connect ->
how to use Putty
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html?icmpid=docs_ec2_console 

on succesful connect - type ->
cd apps/parse/htdocs ->
vi server.js ->

download project base from http://androiddevcourse.com/parseproject.zip

in StarterAplication in Parse.initialize() add 
AppId as applicationId
masterKey as clientKey
serverURL as server - put backslash on te end of url after parse - to look like  
http://ec2-54-245-63-66.us-west-2.compute.amazonaws.com:80/parse/

use serverURL in browser, just switch parse on the end to apps
http://ec2-54-245-63-66.us-west-2.compute.amazonaws.com:80/apps

Username: user

Password: -> On EC2 / Amazon you must go this way: Instance Settings -> Get System Log -> Look for your password, which was given from system by setup




//////////////APP INSTA with Parse Server//////////////
//AndroidManifest.xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.example.a.appinstawithparseserver">

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />

    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />


    <application
        android:name=".StarterApplication"
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>

                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <activity android:name=".StarterApplication">
        </activity>
    </application>

</manifest>



//build.gradle(Project: name)
// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:2.3.2'

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        jcenter()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}



//build.gradle(Module: app)
apply plugin: 'com.android.application'

android {
    compileSdkVersion 25
    buildToolsVersion "25.0.2"
    defaultConfig {
        applicationId "com.example.a.appinstawithparseserver"
        minSdkVersion 23
        targetSdkVersion 25
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
        exclude group: 'com.android.support', module: 'support-annotations'
    })



    compile 'com.parse.bolts:bolts-tasks:1.4.0'
    compile 'com.parse:parse-android:1.15.7'

    compile 'com.android.support:appcompat-v7:25.3.1'
    compile 'com.android.support.constraint:constraint-layout:1.0.2'

    compile 'com.google.android.gms:play-services:9.4.0'
    compile 'com.android.support:multidex:1.0.0'

    testCompile 'junit:junit:4.12'
}


//settings.gradle
include ':app'


//StarterActivity
package com.example.a.appinstawithparseserver;

import android.app.Application;

import com.parse.Parse;
import com.parse.ParseACL;
import com.parse.ParseUser;

public class StarterApplication extends Application {

    @Override
    public void onCreate() {
        super.onCreate();

        // Enable Local Datastore.
        Parse.enableLocalDatastore(this);

        // Add your initialization code here
        Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())
                .applicationId("bc3714433327b5c543445a16306839973a960de1")
                .clientKey("c2201ad73627e846a81a1fe580469b9bb47698c4")
                .server("http://ec2-54-245-63-66.us-west-2.compute.amazonaws.com:80/parse/")
                .build()
        );

    /*ParseObject object = new ParseObject("ExampleObject");
    object.put("myNumber", "123");
    object.put("myString", "rob");

    object.saveInBackground(new SaveCallback () {
      @Override
      public void done(ParseException ex) {
        if (ex == null) {
          Log.i("Parse Result", "Successful!");
        } else {
          Log.i("Parse Result", "Failed" + ex.toString());
        }
      }
    });*/


        ParseUser.enableAutomaticUser();

        ParseACL defaultACL = new ParseACL();
        defaultACL.setPublicReadAccess(true);
        defaultACL.setPublicWriteAccess(true);
        ParseACL.setDefaultACL(defaultACL, true);

    }

    /*@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_starter_application);
    }*/
}




//MainActivity
package com.example.a.appinstawithparseserver;

import android.support.constraint.ConstraintLayout;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.KeyEvent;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RelativeLayout;
import android.widget.TextView;
import android.widget.Toast;

import com.parse.LogInCallback;
import com.parse.ParseAnalytics;
import com.parse.ParseException;
import com.parse.ParseUser;
import com.parse.SignUpCallback;

//http://ec2-54-245-63-66.us-west-2.compute.amazonaws.com/apps
public class MainActivity extends AppCompatActivity {

    EditText editUser;
    EditText editPassword;
    Button buttonLogIn;
    Button buttonSignUp;
    TextView orLogin;
    TextView orSignUp;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ConstraintLayout constraintLayout = (ConstraintLayout) findViewById(R.id.constraintLayout);

        editUser = (EditText) findViewById(R.id.editTextUser);
        editPassword = (EditText) findViewById(R.id.editTextPassword);

        //two realisations of keyboard Done(Enter) key listeners
        //editPassword.setOnEditorActionListener(new KeyboardDoneListener());
        editPassword.setOnKeyListener(new KeyboardDoneKeyListener());

        orLogin = (TextView) findViewById(R.id.textOrLogin);
        orSignUp = (TextView) findViewById(R.id.textOrSignUp);
        orLogin.setVisibility(View.INVISIBLE);

        buttonLogIn = (Button) findViewById(R.id.buttonLogin);
        buttonSignUp = (Button) findViewById(R.id.buttonSignUp);
        buttonSignUp.setVisibility(View.INVISIBLE);


        buttonLogIn.setOnClickListener(new LoginListener());
        buttonSignUp.setOnClickListener(new SignUpListener());

        ParseAnalytics.trackAppOpenedInBackground(getIntent());
    }


    private class LoginListener implements View.OnClickListener {
        @Override
        public void onClick(View v) {
            Log.i("login listener", "0");
            String username = String.valueOf(editUser.getText());
            String password = String.valueOf(editPassword.getText());
            if (!username.equals("") && !password.equals("")) {
                //if (!String.valueOf(editUser.getText()).equals("")  && !String.valueOf(editPassword.getText()).equals("")) {
                //if()

                functionButtonLogin(username, password);
            } else {
                toast("A username and password required");
            }
        }
    }

    private class SignUpListener implements View.OnClickListener {
        @Override
        public void onClick(View v) {
            Log.i("signup listener", "0");
            // if (!String.valueOf(editUser.getText()).equals("")  && !String.valueOf(editPassword.getText()).equals("")) {
            String username = String.valueOf(editUser.getText());
            String password = String.valueOf(editPassword.getText());
            if (!username.equals("") && !password.equals("")) {
                if (username.length() > 4 && username.length() < 15) {
                    if (password.length() > 5 && password.length() < 20) {
                        functionButtonSignUp(username, password);
                    } else {
                        toast("Password must be longer than 5 and shorter than 20 symbols");
                    }
                } else {
                    toast("Username must be longer than 4 ans shorter than 15 symbols");
                }
            } else {
                toast("A username and password required");
            }
        }
    }

    //this listener called twice on button pres and than or button release
    private class KeyboardDoneKeyListener implements View.OnKeyListener {
        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            if (keyCode == KeyEvent.KEYCODE_ENTER) {
                //this listener called twice on button pres and than or button release
                //to avoid this we check if action was ACTION_DOWN
                if (event.getAction() == KeyEvent.ACTION_DOWN) {
                    Log.i("editor listener1", "done pressed");
                }

            }

            return false;
        }
    }

    /*private class KeyboardDoneListener implements TextView.OnEditorActionListener {

        @Override
        public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
            if ((event != null && event.getKeyCode() == KeyEvent.KEYCODE_ENTER) || actionId == EditorInfo.IME_ACTION_DONE) {
                Log.i("editor listener2", "done pressed");

            }

            return false;
        }
    }*/


    public void functionSwitchToLogin(View view) {
        orLogin.setVisibility(View.INVISIBLE);
        orSignUp.setVisibility(View.VISIBLE);

        buttonSignUp.setVisibility(View.INVISIBLE);
        buttonLogIn.setVisibility(View.VISIBLE);
        // hideSoftKeyboard(this);
    }

    public void functionSwitchToSignUp(View view) {
        orLogin.setVisibility(View.VISIBLE);
        orSignUp.setVisibility(View.INVISIBLE);

        buttonSignUp.setVisibility(View.VISIBLE);
        buttonLogIn.setVisibility(View.INVISIBLE);
        // hideSoftKeyboard(this);
    }

    private void toast(String toast) {
        Toast.makeText(getApplicationContext(), toast, Toast.LENGTH_SHORT).show();
    }


    private void functionButtonLogin(final String username, final String password) {
        Log.i("login 1", "1");

        //use of buildin class ParseUser
        ParseUser.logInInBackground(username, password, new LogInCallback() {
            @Override
            public void done(ParseUser user, ParseException e) {
                if (user != null) {
                    Log.i("Login", "Successful");
                    toast("Login successful");
                } else {
                    toast(e.getMessage().toString());
                }
            }
        });



        /*//simple way with own class
        ParseQuery<ParseObject> queryUsers = ParseQuery.getQuery("Users");
        //queryUsers.whereContains("username", username);
        //queryUsers.whereContains("password", password);
        queryUsers.findInBackground(new FindCallback<ParseObject>() {
            @Override
            public void done(List<ParseObject> objects, ParseException e) {
                boolean login = false;
                Log.i("login 2", "2");
                Log.i("login username", username);
                Log.i("login password", password);
                if (e == null && objects != null) {
                    for (ParseObject object : objects) {
                        if (object.getString("username").equals(username)) {
                            if (object.getString("password").equals(password)) {
                                Log.i("Success LogIn", objects.toString());
                                toast("Success: You logged in");
                                login = true;
                            }
                        }
                    }

                } else {
                    Log.i("Failed LogIn", e.toString());
                }
                if (!login) {
                    Log.i("Failed LogIn", "wrong user or password");
                    toast("Fail: Wrong user or password");
                }
            }
        });*/
    }

    private void functionButtonSignUp(final String username, final String password) {
        Log.i("signup function", "1");

        //use of buildin class ParseUser
        ParseUser user = new ParseUser();

        user.setUsername(username);
        user.setPassword(password);

        user.signUpInBackground(new SignUpCallback() {
            @Override
            public void done(ParseException e) {
                if (e == null) {
                    Log.i("SignUp", "Successful");
                    toast("SignUp successful");
                } else {
                    toast(e.getMessage().toString());
                }
            }
        });

        /*//simple way with own class
        ParseQuery<ParseObject> queryUsers = ParseQuery.getQuery("Users");
        //queryUsers.whereContains("username", username);
        //queryUsers.whereContains("password", password);
        queryUsers.findInBackground(new FindCallback<ParseObject>() {
            @Override
            public void done(List<ParseObject> objects, ParseException e) {
                boolean login = false;
                Log.i("signup 2", "2");
                Log.i("signup username", username);
                Log.i("signup password", password);
                if (e == null && objects != null) {
                    for (ParseObject object : objects) {
                        if (object.getString("username").equals(username)) {
                            Log.i("Username already exists", objects.toString());
                            toast("Fail: Username already exists");
                            login = true;
                        }
                    }

                } else {
                    Log.i("Failed signup", e.toString());
                }
                if (!login) {
                    Log.i("Signup process", "Username free");
                    ParseObject user = new ParseObject("Users");
                    user.put("username", username);
                    user.put("password", password);
                    user.saveInBackground(new SaveCallback() {
                        @Override
                        public void done(ParseException e) {
                            if (e == null) {
                                Log.i("Successful", "new user created");
                                toast("Success: New user created");
                            } else {
                                Log.i("Failed", "new user not created");
                                toast("Fail: New user not created");
                            }
                        }
                    });
                }
            }
        });*/
    }

    //hide keyboard 2 realisations
    /*public void hideSoftKeyboard(Activity activity) {
        InputMethodManager inputMethodManager =
                (InputMethodManager) activity.getSystemService(
                        Activity.INPUT_METHOD_SERVICE);
        inputMethodManager.hideSoftInputFromWindow(
                activity.getCurrentFocus().getWindowToken(), 0);
    }*/

    public void hideSoftKeyboard2() {
        InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);
        inputMethodManager.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);
    }

    public void functionHideSoftKeyboard(View view) {
        Log.i("function", "hide keyboard");
        //hideSoftKeyboard(this);
        hideSoftKeyboard2();
    }

}

/*
* Make the parent view(content view of your activity) clickable and focusable by adding the following attributes
    android:clickable="true"
    android:focusableInTouchMode="true"
Implement a hideKeyboard() method
    public void hideKeyboard(View view) {
        InputMethodManager inputMethodManager =(InputMethodManager)getSystemService(Activity.INPUT_METHOD_SERVICE);
        inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);
    }
Lastly, set the onFocusChangeListener of your edittext.
    edittext.setOnFocusChangeListener(new View.OnFocusChangeListener() {
        @Override
        public void onFocusChange(View v, boolean hasFocus) {
            if (!hasFocus) {
                hideKeyboard(v);
            }
        }
    });
As pointed out in one of the comments below, this might not work if the parent view is a ScrollView. For such case, the clickable and focusableInTouchMode may be added on the view directly under the ScrollView.

*/

/*public void setupUI(View view) {

    // Set up touch listener for non-text box views to hide keyboard.
    if (!(view instanceof EditText)) {
        view.setOnTouchListener(new OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {
                hideSoftKeyboard(MyActivity.this);
                return false;
            }
        });
    }

    //If a layout container, iterate over children and seed recursion.
    if (view instanceof ViewGroup) {
        for (int i = 0; i < ((ViewGroup) view).getChildCount(); i++) {
            View innerView = ((ViewGroup) view).getChildAt(i);
            setupUI(innerView);
        }
    }
}*/


/*// Enable Local Datastore.
Parse.enableLocalDatastore(this);
        Parse.initialize(this, "xxx", "yyy");
        into onCreate() of class which extends android.app.Application then don't forget to add line bellow into Manifest file:

<application
    android:name=".NameOfYourApplicationClass"
            ...
            because onCreate won't be called.*/


//Parse SDK for Android
//A library that gives you access to the powerful Parse cloud platform from your Android app.

//Bolts
//Bolts is a collection of low-level libraries designed to make developing mobile apps easier. Bolts was designed by Parse and Facebook for our own internal use, and we have decided to open source these libraries to make them available to others. Using these libraries does not require using any Parse services. Nor do they require having a Parse or Facebook developer account.

//Bolts includes:
//"Tasks", which make organization of complex asynchronous code more manageable. A task is kind of like a JavaScript Promise, but available for iOS and Android.
//An implementation of the App Links protocol, helping you link to content in other apps and handle incoming deep-links.
//gradle parse new
//compile 'com.parse.bolts:bolts-tasks:1.4.0'
//compile 'com.parse:parse-android:1.15.7'

//gradle parse old
//compile 'com.parse.bolts:bolts-tasks:1.3.0'
//compile 'com.parse:parse-android:1.13.0'


///////PARSE SERVER TO APPLICATION
//1. add to build.gradle
//compile 'com.parse.bolts:bolts-tasks:1.4.0'
//compile 'com.parse:parse-android:1.15.7'
//2. add to AndroidManifest.xml
//<uses-permission android:name="android.permission.INTERNET" />
//<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
//<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
//<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /> ?

//and
//<application
//android:name=".StarterApplication"   because onCreate in StarterApplication won't be called.

//3. add StarterApplication with this code
//package com.example.a.appinstawithparseserver;

// import android.app.Application;

// import com.parse.Parse;
// import com.parse.ParseACL;
// import com.parse.ParseUser;

//public class StarterApplication extends Application {

// @Override
//public void onCreate() {
//  super.onCreate();

// // Enable Local Datastore.
// Parse.enableLocalDatastore(this);

//// Add your initialization code here
//Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())
// .applicationId("bc3714433327b5c543445a16306839973a960de1")
// .clientKey("c2201ad73627e846a81a1fe580469b9bb47698c4")
//.server("http://ec2-54-245-63-66.us-west-2.compute.amazonaws.com:80/parse/")
// .build()
// );

///*ParseObject object = new ParseObject("ExampleObject");
// object.put("myNumber", "123");
//object.put("myString", "rob");

//object.saveInBackground(new SaveCallback () {
// @Override
// public void done(ParseException ex) {
// if (ex == null) {
//   Log.i("Parse Result", "Successful!");
// } else {
//  Log.i("Parse Result", "Failed" + ex.toString());
// }
//}
//});*/


// ParseUser.enableAutomaticUser();

//  ParseACL defaultACL = new ParseACL();
//defaultACL.setPublicReadAccess(true);
//defaultACL.setPublicWriteAccess(true);
// ParseACL.setDefaultACL(defaultACL, true);

// }

///*@Override
// protected void onCreate(Bundle savedInstanceState) {
//   super.onCreate(savedInstanceState);
//    setContentView(R.layout.activity_starter_application);
// }*/
//}


//activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/constraintLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context="com.example.a.appinstawithparseserver.MainActivity">

    <Button
        android:id="@+id/buttonSignUp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/buttonLogin"
        android:layout_alignBottom="@+id/buttonLogin"
        android:layout_alignLeft="@+id/buttonLogin"
        android:layout_alignStart="@+id/buttonLogin"
        android:text="sign up"
        android:layout_marginTop="56dp"
        app:layout_constraintTop_toBottomOf="@+id/editTextPassword"
        android:layout_marginRight="8dp"
        app:layout_constraintRight_toRightOf="parent"
        android:layout_marginLeft="8dp"
        app:layout_constraintLeft_toLeftOf="parent"/>

    <TextView
        android:id="@+id/textOrLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/buttonSignUp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginStart="24dp"
        android:layout_toEndOf="@+id/buttonSignUp"
        android:layout_toRightOf="@+id/buttonSignUp"
        android:onClick="functionSwitchToLogin"
        android:text="or Login"
        android:textColor="@android:color/holo_blue_dark"
        android:textSize="18sp"
        app:layout_constraintHorizontal_bias="0.313"
        app:layout_constraintLeft_toRightOf="@+id/buttonSignUp"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        android:layout_marginTop="8dp"
        app:layout_constraintBottom_toBottomOf="parent"
        android:layout_marginBottom="8dp"/>

    <ImageView
        android:id="@+id/imageView"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="8dp"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:srcCompat="@drawable/in"/>

    <EditText
        android:id="@+id/editTextUser"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/imageView"
        android:layout_centerHorizontal="true"
        android:ems="10"
        android:hint="Enter your username..."
        android:inputType="textPersonName"
        android:layout_marginRight="8dp"
        app:layout_constraintRight_toRightOf="parent"
        android:layout_marginLeft="8dp"
        app:layout_constraintLeft_toLeftOf="parent"
        android:layout_marginTop="8dp"
        app:layout_constraintTop_toBottomOf="@+id/imageView"/>

    <EditText
        android:id="@+id/editTextPassword"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignEnd="@+id/editTextUser"
        android:layout_alignRight="@+id/editTextUser"
        android:layout_below="@+id/editTextUser"
        android:ems="10"
        android:hint="Enter your password..."
        android:inputType="textPassword"
        android:layout_marginRight="8dp"
        app:layout_constraintRight_toRightOf="parent"
        android:layout_marginLeft="8dp"
        app:layout_constraintLeft_toLeftOf="parent"
        android:layout_marginTop="8dp"
        app:layout_constraintTop_toBottomOf="@+id/editTextUser"/>

    <TextView
        android:id="@+id/textOrSignUp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/textOrLogin"
        android:layout_alignLeft="@+id/textOrLogin"
        android:layout_alignStart="@+id/textOrLogin"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:onClick="functionSwitchToSignUp"
        android:text="or SignUp"
        android:textColor="@android:color/holo_blue_dark"
        app:layout_constraintLeft_toRightOf="@+id/buttonLogin"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintHorizontal_bias="0.486"
        android:layout_marginBottom="8dp"
        app:layout_constraintTop_toTopOf="parent"
        android:layout_marginTop="8dp"/>

    <Button
        android:id="@+id/buttonLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/editTextPassword"
        android:layout_centerHorizontal="true"
        android:text="Login"
        android:layout_marginTop="56dp"
        app:layout_constraintTop_toBottomOf="@+id/editTextPassword"
        android:layout_marginLeft="8dp"
        app:layout_constraintLeft_toLeftOf="parent"
        android:layout_marginRight="8dp"
        app:layout_constraintRight_toRightOf="parent"/>

</android.support.constraint.ConstraintLayout>



//FULLSCREEN + STATUS BAR REMOVE
//working
//or in styles.xml modify theme like
/*<!-- Base application theme. -->
    <style name="AppTheme" parent="Theme.AppCompat.Light.DarkActionBar">
        <!-- Customize your theme here. -->
        <item name="colorPrimary">@color/colorPrimary</item>
        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
        <item name="colorAccent">@color/colorAccent</item>
        <item name="windowNoTitle">true</item>
        <item name="windowActionBar">false</item>
        <item name="android:windowFullscreen">true</item>
    </style>*/


//working partialy, only fullscreen line removes status bar
//FULLSCREEN
//add to onCreate()
//requestWindowFeature(Window.FEATURE_NO_TITLE);
//getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
//WindowManager.LayoutParams.FLAG_FULLSCREEN);

//example
/*@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.activity_main);
}*/

//not working crashes app - you need to change not here, but in styles.xml
//Or you can do it via your AndroidManifest.xml file:
/*<activity android:name=".ActivityName"
    android:label="@string/app_name"
    android:theme="@android:style/Theme.NoTitleBar.Fullscreen"/>*/


//not working
//FULLSCREEN + status line
//add to onCreate()
//requestWindowFeature(Window.FEATURE_NO_TITLE);


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////AppWazup//////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


StarterAplication

package com.konggit.appwazup;

import android.app.Application;
import android.util.Log;

import com.parse.Parse;
import com.parse.ParseACL;
import com.parse.ParseException;
import com.parse.ParseObject;
import com.parse.SaveCallback;

public class StarterApplication extends Application {

    @Override
    public void onCreate() {
        super.onCreate();

        // Enable Local Datastore.
        Parse.enableLocalDatastore(this);

        // Add your initialization code here
        Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())
                .applicationId("3f96519daf38ecdda591ae6b660eac8dd43e7189")
                .clientKey("ee5352bf6595ac63e04c4b4fe54cc00af2784f92")
                .server("http://ec2-54-191-135-84.us-west-2.compute.amazonaws.com:80/parse/")
                .build()
        );



//       ParseObject object = new ParseObject("ExampleObject");
//        object.put("myNumber", "123");
//        object.put("myString", "rob");
//
//        object.saveInBackground(new SaveCallback() {
//            @Override
//            public void done(ParseException ex) {
//                if (ex == null) {
//                    Log.i("Parse Result", "Successful!");
//                } else {
//                    Log.i("Parse Result", "Failed" + ex.toString());
//                }
//            }
//        });



        //ParseUser.enableAutomaticUser();

        ParseACL defaultACL = new ParseACL();
        defaultACL.setPublicReadAccess(true);
        defaultACL.setPublicWriteAccess(true);
        ParseACL.setDefaultACL(defaultACL, true);

    }

}


///////////////////////////////////////////////////////////////////////////////////////////////////////

MainActivity

package com.konggit.appwazup;

import android.content.Intent;
import android.support.constraint.ConstraintLayout;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import com.parse.LogInCallback;
import com.parse.ParseException;
import com.parse.ParseUser;
import com.parse.SignUpCallback;

//http://ec2-54-191-135-84.us-west-2.compute.amazonaws.com/apps/
public class MainActivity extends AppCompatActivity {

    private Button buttonLogin;
    private TextView textLoginOrSignup;
    private boolean loginMode = true;
    private EditText editTextUsername;
    private EditText editTextPassword;
    private String username;
    private String password;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        setTitle("Wazup Login Activity");
        redirectIfLoggedIn();

        ConstraintLayout constraintLayout = (ConstraintLayout) findViewById(R.id.constraintLayout);
        constraintLayout.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                hideSoftKeyboard();

            }
        });

        editTextUsername = (EditText) findViewById(R.id.editTextLogin);
        editTextPassword = (EditText) findViewById(R.id.editTextPassword);

        buttonLogin = (Button) findViewById(R.id.buttonLogin);
        buttonLogin.setOnClickListener(new ButtonLoginOnClickListener());

        textLoginOrSignup = (TextView) findViewById(R.id.loginOrSignup);
        textLoginOrSignup.setOnClickListener(new TextLoginOnClickListener());

    }

    private class ButtonLoginOnClickListener implements View.OnClickListener {

        @Override
        public void onClick(View v) {

            username = String.valueOf(editTextUsername.getText());
            password = String.valueOf(editTextPassword.getText());

            if (loginMode) {

                ParseUser.logInInBackground(username, password, new LogInCallback() {
                    @Override
                    public void done(ParseUser user, ParseException e) {

                        if (e == null) {

                            Log.i("Login", "Login success");
                            Toast.makeText(getApplicationContext(), "Login: success", Toast.LENGTH_SHORT).show();
                            redirectToUserList();

                        } else {

                            errorMessage(e);

                        }

                    }
                });

            } else {

                ParseUser parseUser = new ParseUser();
                parseUser.setUsername(username);
                parseUser.setPassword(password);
                parseUser.signUpInBackground(new SignUpCallback() {
                    @Override

                    public void done(ParseException e) {

                        if (e == null) {

                            Log.i("Login", "Signup success");
                            Toast.makeText(getApplicationContext(), "Signup: success", Toast.LENGTH_SHORT).show();
                            redirectToUserList();

                        } else {

                            errorMessage(e);

                        }

                    }
                });

            }

        }

    }

    private class TextLoginOnClickListener implements View.OnClickListener {

        @Override
        public void onClick(View v) {

            if (loginMode) {

                buttonLogin.setText("Signup");
                textLoginOrSignup.setText("or Login");
                loginMode = false;

            } else {

                buttonLogin.setText("Login");
                textLoginOrSignup.setText("or Signup");
                loginMode = true;

            }

        }

    }

    private void errorMessage( ParseException e){

        String message = e.getMessage();

        if(message.toLowerCase().contains("java")){

            e.getMessage().substring(e.getMessage().indexOf(" "));

        }

        Log.i("Login", "Fail: " + e.getCode() + " " + message);
        Toast.makeText(getApplicationContext(), "Signup Fail: " + e.getCode() + " " + message, Toast.LENGTH_SHORT).show();
    }

    private void hideSoftKeyboard() {

        InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);
        inputMethodManager.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);

    }

    private void redirectToUserList(){

        Log.i("Info", "Redirecting to userList");
        Intent intent = new Intent(getApplicationContext(),UserListActivity.class);
        startActivity(intent);

    }

    private void redirectIfLoggedIn(){

        if(ParseUser.getCurrentUser()!=null){

            Log.i("Info", "Already logged");
            redirectToUserList();

        }

    }
}


////////////////////////////////////////////////////////////////////////////////////////////

UserListActivity

package com.konggit.appwazup;

import android.content.Intent;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListView;

import com.parse.FindCallback;
import com.parse.ParseException;
import com.parse.ParseQuery;
import com.parse.ParseUser;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class UserListActivity extends AppCompatActivity {

    ListView userListView;
    ArrayList<String> userList;
    UserViewHolderAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_user_list);

        setTitle("User: " + ParseUser.getCurrentUser().getUsername());

        userList = new ArrayList<>();
        feelUserList();

        userListView = (ListView) findViewById(R.id.listVievUserList);
        adapter = new UserViewHolderAdapter(getApplicationContext(), userList);

        userListView.setAdapter(adapter);
        userListView.setOnItemClickListener(new UserListOnClickListener());
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater menuInflater = getMenuInflater();
        menuInflater.inflate(R.menu.userlist_menu, menu);

        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        super.onOptionsItemSelected(item);

        switch (item.getItemId()) {

            case R.id.settings:
                return true;

            case R.id.logout:
                logout();
                return true;

            default:
                return false;
        }

    }

    private void feelUserList() {

        userList.clear();

        ParseQuery<ParseUser> query = ParseUser.getQuery();
        query.whereNotEqualTo("username", ParseUser.getCurrentUser().getUsername());

        query.findInBackground(new FindCallback<ParseUser>() {
            @Override
            public void done(List<ParseUser> objects, ParseException e) {

                if (e == null) {

                    if (objects.size() > 0) {

                        for (ParseUser user : objects) {

                            userList.add(user.getUsername());

                        }

                        adapter.notifyDataSetChanged();
                    }

                } else {

                    Log.i("Info userlist", e.getMessage());

                }

            }
        });

    }

    private class UserListOnClickListener implements AdapterView.OnItemClickListener {
        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

            redirectToChat(userList.get(position));

        }
    }

    private void redirectToChat(String chatbaddy) {

        Log.i("Info", "Redirect to chat with " + chatbaddy);
        Intent intent = new Intent(getApplicationContext(), ChatActivity.class);
        intent.putExtra("activeUser", chatbaddy);
        startActivity(intent);

    }

    private void logout() {

        ParseUser.logOut();
        Intent intent = new Intent(getApplicationContext(), MainActivity.class);
        startActivity(intent);

    }
}

///////////////////////////////////////////////////////////////////////////////////////////////////////

UserViewHolderAdapter

package com.konggit.appwazup;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

import java.util.List;

public class UserViewHolderAdapter extends BaseAdapter{

    Context context;
    List<String> data;

    public UserViewHolderAdapter(Context context, List<String> data) {
        this.context = context;
        this.data = data;
    }

    static class ViewHolder{

        TextView item;

    }

    @Override
    public int getCount() {
        return data.size();
    }

    @Override
    public Object getItem(int position) {
        return data.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        ViewHolder viewHolder;

        if(convertView == null){

            LayoutInflater inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = inflater.inflate(R.layout.userlist_item, parent, false);
            viewHolder = new ViewHolder();

            viewHolder.item = (TextView) convertView.findViewById(R.id.textViewItem);
            convertView.setTag(viewHolder);

        }else{

            viewHolder = (ViewHolder) convertView.getTag();

        }

        viewHolder.item.setText(String.valueOf(getItem(position)));

        return convertView;
    }
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

ChatActivity

package com.konggit.appwazup;

import android.content.Intent;
import android.os.Handler;
import android.support.constraint.ConstraintLayout;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.MotionEvent;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.Toast;

import com.parse.FindCallback;
import com.parse.ParseException;
import com.parse.ParseObject;
import com.parse.ParseQuery;
import com.parse.ParseUser;
import com.parse.SaveCallback;

import java.util.ArrayList;
import java.util.List;

public class ChatActivity extends AppCompatActivity {

    String activeUser;
    ListView chatView;
    List<String> messagesList;
    ArrayAdapter adapter;
    EditText chatEditText;
    Button chatSendButton;

    Handler handler;
    Runnable runnable;
    int delay = 1000;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_chat);

        Intent intent = getIntent();
        activeUser = intent.getStringExtra("activeUser");

        chatView = (ListView) findViewById(R.id.chatListView);

        messagesList = new ArrayList<>();
        marryList();

        adapter = new ArrayAdapter(getApplicationContext(), android.R.layout.simple_list_item_1, messagesList);

        chatView.setAdapter(adapter);


        chatEditText = (EditText) findViewById(R.id.chatEditText);
        chatSendButton = (Button) findViewById(R.id.chatSendButton);
        chatSendButton.setOnClickListener(new ChatSendButtonOnClickListener());

        setTitle("Chat with " + activeUser);

        queryChat();

        //hide keyboard by touching list view(not item)
        chatView.setOnTouchListener(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {

                hideSoftKeyboard();
                return false;
            }
        });

    }

    @Override
    protected void onStart() {

        refreshChat();

        super.onStart();
    }

    //stop handler when activity not visible
    @Override
    protected void onPause() {
        handler.removeCallbacks(runnable);
        super.onPause();
    }

    private class ChatSendButtonOnClickListener implements View.OnClickListener {

        @Override
        public void onClick(View v) {

            if (chatEditText.getText() != null && String.valueOf(chatEditText.getText()).length() > 0) {

                ParseObject message = new ParseObject("Message");
                message.put("sender", ParseUser.getCurrentUser().getUsername());
                message.put("recipient", activeUser);
                message.put("message", String.valueOf(chatEditText.getText()));

                message.saveInBackground(new SaveCallback() {
                    @Override
                    public void done(ParseException e) {

                        if (e == null) {

                            Toast.makeText(getApplicationContext(), "Message sent :" + String.valueOf(chatEditText.getText()), Toast.LENGTH_SHORT).show();

                        } else {

                            Toast.makeText(getApplicationContext(), "Send error :" + e.getMessage(), Toast.LENGTH_SHORT).show();

                        }

                    }
                });
            }

            chatEditText.setText("");
            queryChat();
            hideSoftKeyboard();

        }
    }

    //two parseQueries assembled to one by list and used together by third query
    private void queryChat() {

        Log.i("Info", " Query chat method");

        ParseQuery<ParseObject> querySender = new ParseQuery<ParseObject>("Message");

        querySender.whereEqualTo("sender", ParseUser.getCurrentUser().getUsername());
        querySender.whereEqualTo("recipient", activeUser);

        ParseQuery<ParseObject> queryRecipient = new ParseQuery<ParseObject>("Message");

        queryRecipient.whereEqualTo("recipient", ParseUser.getCurrentUser().getUsername());
        queryRecipient.whereEqualTo("sender", activeUser);

        List<ParseQuery<ParseObject>> queries = new ArrayList<>();

        queries.add(querySender);
        queries.add(queryRecipient);

        ParseQuery<ParseObject> query = ParseQuery.or(queries);

        query.orderByAscending("createdAt");

        query.findInBackground(new FindCallback<ParseObject>() {
            @Override
            public void done(List<ParseObject> objects, ParseException e) {

                if (e == null) {

                    if (objects.size() > 0) {

                        messagesList.clear();

                        for (ParseObject message : objects) {

                            String messageContent = message.getString("message");

                            if (message.getString("sender").equals(ParseUser.getCurrentUser().getUsername())) {

                                messageContent = "me: " + messageContent;

                            } else {

                                messageContent = activeUser + ": " + messageContent;

                            }

                            messagesList.add(messageContent);

                        }

                        //Log.i("Messages", messagesList.toString());
                        adapter.notifyDataSetChanged();

                    }

                }

            }
        });

    }

    private void refreshChat() {

        handler = new Handler();
        handler.postDelayed(new Runnable() {
            @Override
            public void run() {

                runnable = this;

                queryChat();

                handler.postDelayed(runnable, delay);

            }
        }, delay);


        //with Handler
        //Handler h = new Handler();
        //int delay = 15000; //15 seconds
        //Runnable runnable;
        // @Override
        //protected void onStart() {
        ////start handler as activity become visible
        //
        //h.postDelayed(new Runnable() {
        //public void run() {
        //yourMethod()
        //
        //runnable=this;
        //
        //h.postDelayed(runnable, delay);
        //}
        //}, delay);
        //
        //super.onStart();
        //}
        //
        //@Override
        //protected void onPause() {
        //h.removeCallbacks(runnable); //stop handler when activity not visible
        //super.onPause();
        //}

        //with Timer
        //Timer myTimer = new Timer();
        // myTimer.schedule(new TimerTask() {
        //    @Override
        //    public void run() {
        //        //yourMethod()
        //   }
        //}, 10000);

        //with CountDownTimer
        //private  CountDownTimer countDownTimer;
        //private void startTimer(final Context context) {
        //
        //if (countDownTimer != null) {
        //countDownTimer.cancel();
        //countDownTimer = null;
        // }
        //
        //countDownTimer = new CountDownTimer(20 * 1000, 1 * 1000) {
        //
        // public void onTick(long millisUntilFinished) {
        //
        //
        //}
        //
        //public void onFinish() {
        //
        //yourMethod();
        //
        //startTimer(context);
        //
        //}
        //}
        //
        //}.start();
        //}

    }

    private void hideSoftKeyboard() {

        InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);
        inputMethodManager.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);

        //Disable the keyboard on activity window startup
        //this .getWindow().setSoftInputMode(WindowManager.LayoutParams. SOFT_INPUT_STATE_ALWAYS_HIDDEN );

        //<!-- to prevent keyboard over editText field - android:windowSoftInputMode="adjustPan
        //resizes window - but keyboard covers editText again... - android:windowSoftInputMode="stateHidden|adjustResize"-->
        //<activity android:name=".ChatActivity"
        //android:windowSoftInputMode="adjustPan">
        //</activity>

        //https://android-developers.googleblog.com/2009/04/updating-applications-for-on-screen.html

    }

    private void marryList() {

        messagesList.add("Mary had a little lamb");
        messagesList.add("Little lamb, little lamb");
        messagesList.add("Mary had a little lamb");
        messagesList.add("Its fleece was white as snow");
        messagesList.add("And everywhere that Mary went");
        messagesList.add("Mary went, Mary went");
        messagesList.add("The lamb was sure to go");

        messagesList.add("He followed her to school one day");
        messagesList.add("School one day, school one day");
        messagesList.add("He followed her to school one day");
        messagesList.add("Which was against the rule");
        messagesList.add("It made the children laugh and play");
        messagesList.add("Laugh and play, laugh and play");
        messagesList.add("It made the children laugh and play");
        messagesList.add("To see a lamb at school");

        messagesList.add("And so the teacher turned him out\n" +
                "Turned him out, turned him out\n" +
                "And so the teacher turned him out\n" +
                "But still he lingered near\n" +
                "And waited patiently\n" +
                "Patiently, patiently\n" +
                "And waited patiently\n" +
                "Til Mary did appear");

        messagesList.add("Mary had a little lamb" +
                "Little lamb, little lamb" +
                "Mary had a little lamb" +
                "Its fleece was white as snow" +
                "And everywhere that Mary went" +
                "Mary went, Mary went" +
                "Everywhere that Mary went" +
                "The lamb was sure to go");

    }

}


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

activity_main.xml

<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/constraintLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/holo_green_light"
    tools:context="com.konggit.appwazup.MainActivity">

    <TextView
        android:id="@+id/textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="WELCOME"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintHorizontal_bias="0.501"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_bias="0.032"/>

    <EditText
        android:id="@+id/editTextLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="45dp"
        android:ems="10"
        android:hint="Login"
        android:inputType="textPersonName"
        app:layout_constraintHorizontal_bias="0.052"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/textView"/>

    <EditText
        android:id="@+id/editTextPassword"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="29dp"
        android:ems="10"
        android:hint="Password"
        android:inputType="textPassword"
        app:layout_constraintHorizontal_bias="0.052"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/editTextLogin"/>

    <Button
        android:id="@+id/buttonLogin"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginBottom="8dp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="8dp"
        android:text="Login"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintHorizontal_bias="0.464"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/editTextPassword"
        app:layout_constraintVertical_bias="0.105"/>

    <TextView
        android:id="@+id/loginOrSignup"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginBottom="8dp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="8dp"
        android:text="or Signup"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/buttonLogin"
        app:layout_constraintVertical_bias="0.019"
        app:layout_constraintHorizontal_bias="0.501"/>

</android.support.constraint.ConstraintLayout>


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

activity_user_list.xml

<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context="com.konggit.appwazup.UserListActivity">

    <ListView
        android:id="@+id/listVievUserList"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_marginBottom="8dp"
        android:layout_marginLeft="8dp"
        android:layout_marginRight="8dp"
        android:layout_marginTop="8dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"/>
</android.support.constraint.ConstraintLayout>


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

userlist_item.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="match_parent"
              android:layout_height="match_parent">

    <TextView
        android:id="@+id/textViewItem"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="TextView"/>
</LinearLayout>


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

activity_chat.xml

<?xml version="1.0" encoding="utf-8"?>
<android.support.constraint.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/constraintLayoutChat"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/holo_green_light"
    tools:context="com.konggit.appwazup.ChatActivity">

    <!-- stop keyboard from hiding listView on call
    android:stackFromBottom="true"
    android:transcriptMode="normal"
    or
    in your activity:
    listView.setTranscriptMode(ListView.TRANSCRIPT_MODE_NORMAL);
    listView.setStackFromBottom(true);    -->
    <ListView
        android:id="@+id/chatListView"
        android:layout_width="match_parent"
        android:layout_height="553dp"
        android:background="@android:color/holo_blue_bright"
        android:transcriptMode="normal"
        app:layout_constraintHorizontal_bias="0.0"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"/>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/chatListView"
        app:layout_constraintVertical_bias="0.902">

        <!-- Multiline input - android:inputType="textMultiLine" -->
        <!-- Total Lines prior display - android:lines="8" -->
        <!-- Minimum lines - android:minLines="6"-->
        <!-- Cursor Position - android:maxLines="10" -->
        <!-- Vertical Scroll Bar - android:scrollbars="vertical"-->
        <EditText
            android:id="@+id/chatEditText"
            android:layout_width="345dp"
            android:layout_height="40dp"
            android:layout_marginBottom="2dp"
            android:layout_marginEnd="2dp"
            android:layout_marginRight="8dp"
            android:layout_marginStart="2dp"
            android:ems="10"
            android:maxLength="2000"
            android:gravity="top|left"
            android:hint="..."
            android:inputType="textMultiLine"
            android:lines="8"
            android:maxLines="10"
            android:minLines="6"
            android:scrollbars="vertical"/>

        <Button
            android:id="@+id/chatSendButton"
            android:layout_width="50dp"
            android:layout_height="35dp"
            android:text="ok"/>

    </LinearLayout>
</android.support.constraint.ConstraintLayout>


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

userlist_menu.xml

<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:id="@+id/settings"
          android:title="Settings"/>
    <item android:id="@+id/logout"
          android:title="Logout"/>

</menu>


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

AndroidManifest.xml

<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.konggit.appwazup">

    <uses-permission android:name="android.permission.INTERNET"/>

    <application
        android:name=".StarterApplication"
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>

                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <activity android:name=".UserListActivity">
        </activity>
        <!-- to prevent keyboard over editText field - android:windowSoftInputMode="adjustPan
        resizes window - but keyboard covers editText again... - android:windowSoftInputMode="stateHidden|adjustResize"-->
        <activity android:name=".ChatActivity"
                  android:windowSoftInputMode="adjustPan">
        </activity>
    </application>

</manifest>


/////////////////////////////////////////////////////////////////////////////////////

build.gradle(module.app)

apply plugin: 'com.android.application'

android {
    compileSdkVersion 25
    buildToolsVersion "25.0.3"
    defaultConfig {
        applicationId "com.konggit.appwazup"
        minSdkVersion 24
        targetSdkVersion 25
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
        exclude group: 'com.android.support', module: 'support-annotations'
    })


    compile 'com.android.support:appcompat-v7:25.3.1'
    compile 'com.android.support.constraint:constraint-layout:1.0.2'
    compile 'com.parse.bolts:bolts-tasks:1.4.0'
    compile 'com.parse:parse-android:1.15.7'
    testCompile 'junit:junit:4.12'
}



/////////////ANDROID RES VASLUES////////////

More Resource Types
This page defines more types of resources you can externalize, including:

Bool
XML resource that carries a boolean value.
Color
XML resource that carries a color value (a hexadecimal color).
Dimension
XML resource that carries a dimension value (with a unit of measure).
ID
XML resource that provides a unique identifier for application resources and components.
Integer
XML resource that carries an integer value.
Integer Array
XML resource that provides an array of integers.
Typed Array
XML resource that provides a TypedArray (which you can use for an array of drawables).
Bool
A boolean value defined in XML.

Note: A bool is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine bool resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary. The <bool> element's name will be used as the resource ID.
RESOURCE REFERENCE:
In Java: R.bool.bool_name
In XML: @[package:]bool/bool_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <bool
        name="bool_name"
        >[true | false]</bool>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<bool>
A boolean value: true or false.
attributes:

name
String. A name for the bool value. This will be used as the resource ID.
EXAMPLE:
XML file saved at res/values-small/bools.xml:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <bool name="screen_small">true</bool>
    <bool name="adjust_view_bounds">true</bool>
</resources>
This application code retrieves the boolean:

Resources res = getResources();
boolean screenIsSmall = res.getBoolean(R.bool.screen_small);
This layout XML uses the boolean for an attribute:

<ImageView
    android:layout_height="fill_parent"
    android:layout_width="fill_parent"
    android:src="@drawable/logo"
    android:adjustViewBounds="@bool/adjust_view_bounds" />
Color
A color value defined in XML. The color is specified with an RGB value and alpha channel. You can use a color resource any place that accepts a hexadecimal color value. You can also use a color resource when a drawable resource is expected in XML (for example, android:drawable="@color/green").

The value always begins with a pound (#) character and then followed by the Alpha-Red-Green-Blue information in one of the following formats:

#RGB
#ARGB
#RRGGBB
#AARRGGBB
Note: A color is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine color resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/colors.xml
The filename is arbitrary. The <color> element's name will be used as the resource ID.
RESOURCE REFERENCE:
In Java: R.color.color_name
In XML: @[package:]color/color_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color
        name="color_name"
        >hex_color</color>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<color>
A color expressed in hexadecimal, as described above.
attributes:

name
String. A name for the color. This will be used as the resource ID.
EXAMPLE:
XML file saved at res/values/colors.xml:
<?xml version="1.0" encoding="utf-8"?>
<resources>
   <color name="opaque_red">#f00</color>
   <color name="translucent_red">#80ff0000</color>
</resources>
This application code retrieves the color resource:

Resources res = getResources();
int color = res.getColor(R.color.opaque_red);
This layout XML applies the color to an attribute:

<TextView
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="@color/translucent_red"
    android:text="Hello"/>
Dimension
A dimension value defined in XML. A dimension is specified with a number followed by a unit of measure. For example: 10px, 2in, 5sp. The following units of measure are supported by Android:

dp
Density-independent Pixels - An abstract unit that is based on the physical density of the screen. These units are relative to a 160 dpi (dots per inch) screen, on which 1dp is roughly equal to 1px. When running on a higher density screen, the number of pixels used to draw 1dp is scaled up by a factor appropriate for the screen's dpi. Likewise, when on a lower density screen, the number of pixels used for 1dp is scaled down. The ratio of dp-to-pixel will change with the screen density, but not necessarily in direct proportion. Using dp units (instead of px units) is a simple solution to making the view dimensions in your layout resize properly for different screen densities. In other words, it provides consistency for the real-world sizes of your UI elements across different devices.
sp
Scale-independent Pixels - This is like the dp unit, but it is also scaled by the user's font size preference. It is recommend you use this unit when specifying font sizes, so they will be adjusted for both the screen density and the user's preference.
pt
Points - 1/72 of an inch based on the physical size of the screen, assuming a 72dpi density screen.
px
Pixels - Corresponds to actual pixels on the screen. This unit of measure is not recommended because the actual representation can vary across devices; each devices may have a different number of pixels per inch and may have more or fewer total pixels available on the screen.
mm
Millimeters - Based on the physical size of the screen.
in
Inches - Based on the physical size of the screen.
Note: A dimension is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine dimension resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary. The <dimen> element's name will be used as the resource ID.
RESOURCE REFERENCE:
In Java: R.dimen.dimension_name
In XML: @[package:]dimen/dimension_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen
        name="dimension_name"
        >dimension</dimen>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<dimen>
A dimension, represented by a float, followed by a unit of measurement (dp, sp, pt, px, mm, in), as described above.
attributes:

name
String. A name for the dimension. This will be used as the resource ID.
EXAMPLE:
XML file saved at res/values/dimens.xml:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen name="textview_height">25dp</dimen>
    <dimen name="textview_width">150dp</dimen>
    <dimen name="ball_radius">30dp</dimen>
    <dimen name="font_size">16sp</dimen>
</resources>
This application code retrieves a dimension:

Resources res = getResources();
float fontSize = res.getDimension(R.dimen.font_size);
This layout XML applies dimensions to attributes:

<TextView
    android:layout_height="@dimen/textview_height"
    android:layout_width="@dimen/textview_width"
    android:textSize="@dimen/font_size"/>
ID
A unique resource ID defined in XML. Using the name you provide in the <item> element, the Android developer tools create a unique integer in your project's R.java class, which you can use as an identifier for an application resources (for example, a View in your UI layout) or a unique integer for use in your application code (for example, as an ID for a dialog or a result code).

Note: An ID is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine ID resources with other simple resources in the one XML file, under one <resources> element. Also, remember that an ID resources does not reference an actual resource item; it is simply a unique ID that you can attach to other resources or use as a unique integer in your application.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary.
RESOURCE REFERENCE:
In Java: R.id.name
In XML: @[package:]id/name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <item
        type="id"
        name="id_name" />
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<item>
Defines a unique ID. Takes no value, only attributes.
attributes:

type
Must be "id".
name
String. A unique name for the ID.
EXAMPLE:
XML file saved at res/values/ids.xml:

<?xml version="1.0" encoding="utf-8"?>
<resources>
    <item type="id" name="button_ok" />
    <item type="id" name="dialog_exit" />
</resources>
Then, this layout snippet uses the "button_ok" ID for a Button widget:

<Button android:id="@id/button_ok"
    style="@style/button_style" />
Notice that the android:id value does not include the plus sign in the ID reference, because the ID already exists, as defined in the ids.xml example above. (When you specify an ID to an XML resource using the plus signin the format android:id="@+id/name"it means that the "name" ID does not exist and should be created.)

As another example, the following code snippet uses the "dialog_exit" ID as a unique identifier for a dialog:

showDialog(R.id.dialog_exit);
In the same application, the "dialog_exit" ID is compared when creating a dialog:

protected Dialog onCreateDialog(int)(int id) {
    Dialog dialog;
    switch(id) {
    case R.id.dialog_exit:
        ...
        break;
    default:
        dialog = null;
    }
    return dialog;
}
Integer
An integer defined in XML.

Note: An integer is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine integer resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary. The <integer> element's name will be used as the resource ID.
RESOURCE REFERENCE:
In Java: R.integer.integer_name
In XML: @[package:]integer/integer_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <integer
        name="integer_name"
        >integer</integer>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<integer>
An integer.
attributes:

name
String. A name for the integer. This will be used as the resource ID.
EXAMPLE:
XML file saved at res/values/integers.xml:

<?xml version="1.0" encoding="utf-8"?>
<resources>
    <integer name="max_speed">75</integer>
    <integer name="min_speed">5</integer>
</resources>
This application code retrieves an integer:

Resources res = getResources();
int maxSpeed = res.getInteger(R.integer.max_speed);
Integer Array
An array of integers defined in XML.

Note: An integer array is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine integer array resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary. The <integer-array> element's name will be used as the resource ID.
COMPILED RESOURCE DATATYPE:
Resource pointer to an array of integers.
RESOURCE REFERENCE:
In Java: R.array.integer_array_name
In XML: @[package:]array.integer_array_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <integer-array
        name="integer_array_name">
        <item
            >integer</item>
    </integer-array>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<integer-array>
Defines an array of integers. Contains one or more child <item> elements.
attributes:

android:name
String. A name for the array. This name will be used as the resource ID to reference the array.
<item>
An integer. The value can be a reference to another integer resource. Must be a child of a <integer-array> element.
No attributes.

EXAMPLE:
XML file saved at res/values/integers.xml:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <integer-array name="bits">
        <item>4</item>
        <item>8</item>
        <item>16</item>
        <item>32</item>
    </integer-array>
</resources>
This application code retrieves the integer array:

Resources res = getResources();
int[] bits = res.getIntArray(R.array.bits);
Typed Array
A TypedArray defined in XML. You can use this to create an array of other resources, such as drawables. Note that the array is not required to be homogeneous, so you can create an array of mixed resource types, but you must be aware of what and where the data types are in the array so that you can properly obtain each item with the TypedArray's get...() methods.

Note: A typed array is a simple resource that is referenced using the value provided in the name attribute (not the name of the XML file). As such, you can combine typed array resources with other simple resources in the one XML file, under one <resources> element.

FILE LOCATION:
res/values/filename.xml
The filename is arbitrary. The <array> element's name will be used as the resource ID.
COMPILED RESOURCE DATATYPE:
Resource pointer to a TypedArray.
RESOURCE REFERENCE:
In Java: R.array.array_name
In XML: @[package:]array.array_name
SYNTAX:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <array
        name="integer_array_name">
        <item>resource</item>
    </array>
</resources>
ELEMENTS:
<resources>
Required. This must be the root node.
No attributes.

<array>
Defines an array. Contains one or more child <item> elements.
attributes:

android:name
String. A name for the array. This name will be used as the resource ID to reference the array.
<item>
A generic resource. The value can be a reference to a resource or a simple data type. Must be a child of an <array> element.
No attributes.

EXAMPLE:
XML file saved at res/values/arrays.xml:
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <array name="icons">
        <item>@drawable/home</item>
        <item>@drawable/settings</item>
        <item>@drawable/logout</item>
    </array>
    <array name="colors">
        <item>#FFFF0000</item>
        <item>#FF00FF00</item>
        <item>#FF0000FF</item>
    </array>
</resources>
This application code retrieves each array and then obtains the first entry in each array:

Resources res = getResources();
TypedArray icons = res.obtainTypedArray(R.array.icons);
Drawable drawable = icons.getDrawable(0);

TypedArray colors = res.obtainTypedArray(R.array.colors);
int color = colors.getColor(0,0);


/////////////UNUSUAL RES///////////////////

<resources>
    <item name="text_line_spacing" format="float" type="dimen">1.0</item>
</resources>
In this way, your float number will be under @dimen. Notice that you can use other "format" and/or "type" modifiers, where format stands for:

Format = enclosing data type:

float
boolean
fraction
integer
...
and type stands for:

Type = resource type (referenced with R.XXXXX.name):

color
dimen
string
style
etc...
To fetch resource from code, you should use this snippet:

TypedValue outValue = new TypedValue();
getResources().getValue(R.dimen.text_line_spacing, outValue, true);
float value = outValue.getFloat();  
I know that this is confusing (you'd expect call like getResources().getDimension(R.dimen.text_line_spacing)), but Android dimensions have special treatment and pure "float" number is not valid dimension.

Additionally, there is small "hack" to put float number into dimension, but be WARNED that this is really hack, and you are risking chance to lose float range and precision.

<resources>
    <dimen name="text_line_spacing">2.025px</dimen>
</resources>
and from code, you can get that float by

float lineSpacing = getResources().getDimension(R.dimen.text_line_spacing);
in this case, value of lineSpacing is 2.024993896484375, and not 2.025 as you would expected.
